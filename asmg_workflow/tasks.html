<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.1"/>
    <title>asmg_workflow.tasks API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../asmg_workflow.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;asmg_workflow</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="function" href="#print_time">print_time</a>
            </li>
            <li>
                    <a class="function" href="#always_true">always_true</a>
            </li>
            <li>
                    <a class="function" href="#always_false">always_false</a>
            </li>
            <li>
                    <a class="function" href="#timer">timer</a>
            </li>
            <li>
                    <a class="function" href="#time_of_day_checker">time_of_day_checker</a>
            </li>
            <li>
                    <a class="function" href="#task_checker">task_checker</a>
            </li>
            <li>
                    <a class="function" href="#task_value_type_checker">task_value_type_checker</a>
            </li>
            <li>
                    <a class="function" href="#type_checker">type_checker</a>
            </li>
            <li>
                    <a class="function" href="#file_exists_checker">file_exists_checker</a>
            </li>
            <li>
                    <a class="function" href="#visa_resource">visa_resource</a>
            </li>
            <li>
                    <a class="function" href="#ip_resource">ip_resource</a>
            </li>
            <li>
                    <a class="function" href="#ue_resource">ue_resource</a>
            </li>
            <li>
                    <a class="class" href="#DependencyError">DependencyError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TaskError">TaskError</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#Dependency">Dependency</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TimeOfDayDependency">TimeOfDayDependency</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TaskDependency">TaskDependency</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TaskOutputDependency">TaskOutputDependency</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#TypeDependency">TypeDependency</a>
                            <ul class="memberlist">
                </ul>

            </li>
            <li>
                    <a class="class" href="#VisaDependency">VisaDependency</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#VisaDependency.__init__">VisaDependency</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Task">Task</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Task.__init__">Task</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.task_options">task_options</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.name">name</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.dependencies">dependencies</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.met_dependencies">met_dependencies</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.dependency_repeats">dependency_repeats</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.dependency_times">dependency_times</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.dependency_durations">dependency_durations</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.id">id</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.start_time">start_time</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.timer">timer</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.completed">completed</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.retries">retries</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.max_tries">max_tries</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.depth">depth</a>
                        </li>
                        <li>
                                <a class="variable" href="#Task.started">started</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.count_task_depth">count_task_depth</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.add_dependency">add_dependency</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.remove_dependency">remove_dependency</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.get_task_duration">get_task_duration</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.throw_dependency_error">throw_dependency_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.on_error">on_error</a>
                        </li>
                        <li>
                                <a class="function" href="#Task.check_dependencies">check_dependencies</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FunctionTask">FunctionTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FunctionTask.__init__">FunctionTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionTask.function">function</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionTask.args">args</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionTask.kwargs">kwargs</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionTask.output">output</a>
                        </li>
                        <li>
                                <a class="function" href="#FunctionTask.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DependentFunctionTask">DependentFunctionTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#DependentFunctionTask.__init__">DependentFunctionTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependentFunctionTask.function">function</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependentFunctionTask.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#DependentFunctionTask.task_outputs">task_outputs</a>
                        </li>
                        <li>
                                <a class="function" href="#DependentFunctionTask.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MultipleDependentFunctionTask">MultipleDependentFunctionTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MultipleDependentFunctionTask.__init__">MultipleDependentFunctionTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleDependentFunctionTask.function">function</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleDependentFunctionTask.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleDependentFunctionTask.task_outputs">task_outputs</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleDependentFunctionTask.args">args</a>
                        </li>
                        <li>
                                <a class="variable" href="#MultipleDependentFunctionTask.kwargs">kwargs</a>
                        </li>
                        <li>
                                <a class="function" href="#MultipleDependentFunctionTask.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#ShellTask">ShellTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#ShellTask.__init__">ShellTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#ShellTask.command">command</a>
                        </li>
                        <li>
                                <a class="variable" href="#ShellTask.arguments">arguments</a>
                        </li>
                        <li>
                                <a class="function" href="#ShellTask.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#StartTask">StartTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#StartTask.__init__">StartTask</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#StopTask">StopTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#StopTask.__init__">StopTask</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SimpleVisaTask">SimpleVisaTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SimpleVisaTask.__init__">SimpleVisaTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#SimpleVisaTask.mode">mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#SimpleVisaTask.command">command</a>
                        </li>
                        <li>
                                <a class="variable" href="#SimpleVisaTask.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#SimpleVisaTask.resource_name">resource_name</a>
                        </li>
                        <li>
                                <a class="function" href="#SimpleVisaTask.execute">execute</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#FunctionalExperimentTask">FunctionalExperimentTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#FunctionalExperimentTask.__init__">FunctionalExperimentTask</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionalExperimentTask.task_options">task_options</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionalExperimentTask.function">function</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionalExperimentTask.output_path">output_path</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionalExperimentTask.output">output</a>
                        </li>
                        <li>
                                <a class="variable" href="#FunctionalExperimentTask.finished_path">finished_path</a>
                        </li>
                        <li>
                                <a class="function" href="#FunctionalExperimentTask.append_csv_row">append_csv_row</a>
                        </li>
                        <li>
                                <a class="function" href="#FunctionalExperimentTask.execute">execute</a>
                        </li>
                        <li>
                                <a class="function" href="#FunctionalExperimentTask.on_point_error">on_point_error</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#test_MultipleDependentFunction">test_MultipleDependentFunction</a>
            </li>
            <li>
                    <a class="function" href="#test_Dependency">test_Dependency</a>
            </li>
            <li>
                    <a class="function" href="#test_two_FunctionTasks">test_two_FunctionTasks</a>
            </li>
            <li>
                    <a class="function" href="#test_DependentFunctionTask">test_DependentFunctionTask</a>
            </li>
            <li>
                    <a class="function" href="#test_FunctionTask">test_FunctionTask</a>
            </li>
            <li>
                    <a class="function" href="#test_type_checker">test_type_checker</a>
            </li>
            <li>
                    <a class="function" href="#test_task_checker">test_task_checker</a>
            </li>
            <li>
                    <a class="function" href="#test_chained_tasks">test_chained_tasks</a>
            </li>
            <li>
                    <a class="function" href="#test_Task">test_Task</a>
            </li>
            <li>
                    <a class="function" href="#test_ShellTask">test_ShellTask</a>
            </li>
            <li>
                    <a class="function" href="#test_schedule">test_schedule</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../asmg_workflow.html">asmg_workflow</a><wbr>.tasks    </h1>

                        <div class="docstring"><p>tasks is a module that holds the predefined tasks for the nasctn_workflow software. A Task is a class that represents
an abstract task to be done. It must have the attributes task.started and task.completed. In addition,
the method task.execute() is designed to be overloaded to define exactly what happens when the task is run. The
class Dependency defines a condition that should be checked before a task executes.</p>
</div>

                        <input id="mod-tasks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-tasks-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="c1"># Name:        tasks</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="c1"># Purpose:    </span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a><span class="c1"># Authors:      </span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="c1"># Created:     11/23/2020</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="c1"># License:     MIT License</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="sd">&quot;&quot;&quot;tasks is a module that holds the predefined tasks for the nasctn_workflow software. A Task is a class that represents</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a><span class="sd">an abstract task to be done. It must have the attributes task.started and task.completed. In addition,</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="sd">the method task.execute() is designed to be overloaded to define exactly what happens when the task is run. The</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="sd">class Dependency defines a condition that should be checked before a task executes.</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a><span class="c1"># Standard Imports</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="kn">import</span> <span class="nn">sys</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="kn">import</span> <span class="nn">datetime</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="kn">import</span> <span class="nn">subprocess</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="kn">import</span> <span class="nn">traceback</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="kn">import</span> <span class="nn">re</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="kn">import</span> <span class="nn">time</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a><span class="kn">import</span> <span class="nn">uuid</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="c1"># Third Party Imports</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span><span class="s2">&quot;..&quot;</span><span class="p">))</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a><span class="kn">from</span> <span class="nn">asmg_workflow.logs</span> <span class="kn">import</span> <span class="o">*</span>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a><span class="kn">import</span> <span class="nn">pyvisa</span> <span class="k">as</span> <span class="nn">visa</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a><span class="c1"># Module Constants</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a><span class="c1"># Module Functions</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a><span class="k">def</span> <span class="nf">print_time</span><span class="p">(</span><span class="n">duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="s2">&quot;A function that prints the time every 1 second for duration to test tasks&quot;</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a>    <span class="n">duration</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>    <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>    <span class="k">while</span> <span class="n">current_time</span><span class="o">-</span><span class="n">start_time</span> <span class="o">&lt;</span> <span class="n">duration</span><span class="p">:</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">current_time</span><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>        <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="k">def</span> <span class="nf">always_true</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a>    <span class="s2">&quot;Test checker that always returns True&quot;</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>    <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="k">def</span> <span class="nf">always_false</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a>    <span class="s2">&quot;Test checker that always returns False&quot;</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Timer checker that checks if a time in input = {&#39;absolute_time&#39;:Datetime} has elapsed or</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a><span class="sd">    if a relative time specified by input = {&#39;relative_time&#39;:TimeDelta,&#39;start_time&#39;:DateTime} has elapsed&quot;&quot;&quot;</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>    <span class="k">if</span> <span class="s2">&quot;absolute_time&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>        <span class="k">if</span> <span class="n">now</span><span class="o">&gt;</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;absolute_time&quot;</span><span class="p">]:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>    <span class="k">if</span> <span class="s2">&quot;relative_time&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>        <span class="n">delta</span> <span class="o">=</span> <span class="n">now</span><span class="o">-</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;start_time&quot;</span><span class="p">]</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;delta is </span><span class="si">{</span><span class="n">delta</span><span class="si">}</span><span class="s1">, relative_time is </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;relative_time&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="k">if</span> <span class="n">delta</span><span class="o">&gt;</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;relative_time&quot;</span><span class="p">]:</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a><span class="k">def</span> <span class="nf">time_of_day_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Time of day checker determines if it is currently between start time and stop time&quot;&quot;&quot;</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a>    <span class="k">pass</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a><span class="k">def</span> <span class="nf">task_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if a the task in input = {&#39;task&#39;:Task} has been completed &quot;&quot;&quot;</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a>    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;task&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a><span class="k">def</span> <span class="nf">task_value_type_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if the task is done and the output is off the type input ={&#39;task&#39;:Task,&#39;ouptut_name&#39;:name,&#39;output_type&#39;:int}&quot;&quot;&quot;</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>    <span class="n">completed</span> <span class="o">=</span> <span class="n">task_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>    <span class="nb">type</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">,</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s1">&#39;output_type&#39;</span><span class="p">]):</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>        <span class="nb">type</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>    <span class="k">return</span> <span class="n">completed</span> <span class="ow">and</span> <span class="nb">type</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a><span class="k">def</span> <span class="nf">type_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="n">output</span><span class="o">=</span><span class="kc">True</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]):</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a>    <span class="k">return</span> <span class="n">output</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a><span class="k">def</span> <span class="nf">file_exists_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks to see if a file exits, requires the dependency to have input  = {&#39;file&#39;:fileName}&quot;&quot;&quot;</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a>    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]):</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="k">def</span> <span class="nf">visa_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a>    <span class="n">rm</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a>    <span class="n">resource</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;resource_name&#39;</span><span class="p">])</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>    <span class="n">idn</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;IDN?&quot;</span><span class="p">)</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;idn&quot;</span><span class="p">],</span><span class="n">idn</span><span class="p">,</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">):</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a><span class="k">def</span> <span class="nf">ip_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>    <span class="k">pass</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a><span class="k">def</span> <span class="nf">ue_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>    <span class="k">pass</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a><span class="c1"># Module Classes</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a><span class="k">class</span> <span class="nc">DependencyError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>    <span class="k">pass</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="k">class</span> <span class="nc">TaskError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>    <span class="k">pass</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="k">class</span> <span class="nc">Dependency</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">    number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">     dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for&quot;&quot;&quot;</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;always_true&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">=</span> <span class="nb">type</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">input</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;on_fail&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_fail</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;checker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checker</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duration</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">number_repeats</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;repeat_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">repeat_time</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a><span class="k">class</span> <span class="nc">TimeOfDayDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Built to make sure it is a specific time of day on a 24 hour clock&quot;&quot;&quot;</span>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hour_start</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">minute_start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">second_start</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">,</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a>                  <span class="n">hour_stop</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="n">minute_stop</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">second_stop</span> <span class="o">=</span> <span class="mi">0</span>  <span class="p">):</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a>        <span class="k">pass</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="k">class</span> <span class="nc">TaskDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;task_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TaskDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a task dependency or only do the next task if this one is done, the input should be of the form</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a><span class="sd">        input = {&#39;task&#39;:Task}&quot;&quot;&quot;</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a><span class="k">class</span> <span class="nc">TaskOutputDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;task_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TaskOutputDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a task dependency or only do the next task if this one is done and if the </span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a><span class="sd">        output is of the right type, the input should be of the form</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a><span class="sd">        input = {&#39;task&#39;:Task,&#39;output_name&#39;:&#39;variable_name&#39;,&#39;output_type&#39;:int}&quot;&quot;&quot;</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a><span class="k">class</span> <span class="nc">TypeDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;type_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TypeDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a type dependency (unit test), the input should be of the form</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a><span class="sd">        input = {&#39;variables&#39;:{&#39;x&#39;:input_variable},&#39;types&#39;:{&#39;x&#39;:int}} or</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="sd">        input = {&#39;variables&#39;:{&#39;x&#39;:input_variable},&#39;types&#39;:{&#39;x&#39;:(int,float)}}&quot;&quot;&quot;</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a><span class="k">class</span> <span class="nc">VisaDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;visa&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;visa_resource&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependency that checks if a visa resource responds with the right idn. The input should be of the form</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        input = {&#39;resource_name&#39;:VISAResource,&#39;idn&#39;:ReturnedIDN}&quot;&quot;&quot;</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">VisaDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">TypeDependency</span><span class="p">,</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>                                            <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a><span class="k">class</span> <span class="nc">Task</span><span class="p">():</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;An abstract representation of a task to be completed&quot;&quot;&quot;</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>                    <span class="s2">&quot;auto_log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>                    <span class="s2">&quot;log_serializer&quot;</span><span class="p">:</span><span class="n">YamlSerializer</span><span class="p">(),</span><span class="s2">&quot;log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">value</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">=</span><span class="p">[]</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">Log</span><span class="p">(</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="s2">&quot;log&quot;</span><span class="p">,</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extension</span><span class="p">),</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>                        <span class="n">auto_save</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;auto_log&quot;</span><span class="p">],</span><span class="n">serializer</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">])</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> was created.&quot;</span><span class="p">)</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task id is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="o">=</span><span class="mi">0</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_tries</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a>    <span class="k">def</span> <span class="nf">count_task_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Counts the depth of task dependencies&quot;&quot;&quot;</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a>            <span class="n">new_task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;task&quot;</span><span class="p">]</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>            <span class="n">depth</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">new_task</span><span class="o">.</span><span class="n">depth</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>            <span class="k">pass</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>        <span class="k">return</span> <span class="n">depth</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>    <span class="k">def</span> <span class="nf">add_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a dependency to the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">)</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_task_depth</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>        <span class="k">if</span> <span class="n">depth</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">:</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>        <span class="n">new_entry</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="n">new_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> dependency was added.&quot;</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">new_entry</span><span class="p">)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a>    <span class="k">def</span> <span class="nf">remove_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a dependency in the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>        <span class="n">remove_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Causes the task to run&quot;&quot;&quot;</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span>  <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>    <span class="k">def</span> <span class="nf">get_task_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current run time for the task&quot;&quot;&quot;</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>    <span class="k">def</span> <span class="nf">throw_dependency_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Raises the dependency error&quot;&quot;&quot;</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> failed at the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>        <span class="k">raise</span> <span class="n">DependencyError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>    <span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">exception</span><span class="p">):</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Function that executes on an error in the execution of the task&quot;&quot;&quot;</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>        <span class="k">raise</span> <span class="n">exception</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>    <span class="k">def</span> <span class="nf">check_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates through the list self.dependencies and checks if they are satisfied&quot;&quot;&quot;</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>        <span class="k">for</span> <span class="n">dependency_index</span><span class="p">,</span><span class="n">dependency</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">):</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>            <span class="c1"># is there a cleaner way of doing this?</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>            <span class="n">dependency_met</span><span class="o">=</span><span class="nb">globals</span><span class="p">()[</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;checker&quot;</span><span class="p">]](</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>            <span class="k">if</span> <span class="n">dependency_met</span><span class="p">:</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> met the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a>                <span class="n">action</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;on_fail&quot;</span><span class="p">]</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a>                <span class="c1"># switch statement to handle a dependency check failure</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a>                <span class="k">if</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pass&quot;</span><span class="p">,</span><span class="s2">&quot;retry&quot;</span><span class="p">]:</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and is passing&quot;</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_until&quot;</span><span class="p">]:</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>                    <span class="c1"># the time handler</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The dependency is </span><span class="si">{</span><span class="n">dependency</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)[</span><span class="s2">&quot;repeat_time&quot;</span><span class="p">]</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;self.timer is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s1"> and repeat time is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="w"> </span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">&lt;</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="p">:</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s2"> </span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a><span class="s2">                               and is repeating until </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;repeat_time&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_n_times&quot;</span><span class="p">]:</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.dependency repeats is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]:</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> for the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="si">}</span><span class="s2"> time</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a><span class="s2">                                    and is repeating </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> times&quot;&quot;&quot;</span>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_for&quot;</span><span class="p">]:</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>                    <span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">=</span><span class="n">duration</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="n">duration</span><span class="p">:</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and has been running </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s2"> which is less than the allotted </span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a><span class="s2">                                    duration of </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a><span class="k">class</span> <span class="nc">FunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">function</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a><span class="k">class</span> <span class="nc">DependentFunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a>                <span class="c1">#print(f&quot;The dependencies are {self.dependencies}&quot;)</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>                    <span class="c1">#print(f&quot;The task dependency has this output: {task.output}&quot;)</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>            <span class="c1">#print(f&quot;The output of the previous function is {self.task_outputs}&quot;)</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-395"><a href="#L-395"><span class="linenos">395</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos">396</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos">397</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-398"><a href="#L-398"><span class="linenos">398</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos">399</span></a>        
</span><span id="L-400"><a href="#L-400"><span class="linenos">400</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-401"><a href="#L-401"><span class="linenos">401</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos">402</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos">403</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos">404</span></a>
</span><span id="L-405"><a href="#L-405"><span class="linenos">405</span></a><span class="k">class</span> <span class="nc">MultipleDependentFunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos">406</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos">407</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos">408</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="L-409"><a href="#L-409"><span class="linenos">409</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MultipleDependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos">410</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos">411</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos">412</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-413"><a href="#L-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos">414</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos">415</span></a>
</span><span id="L-416"><a href="#L-416"><span class="linenos">416</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos">417</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-418"><a href="#L-418"><span class="linenos">418</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos">419</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos">420</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="L-421"><a href="#L-421"><span class="linenos">421</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;output_name&#39;</span><span class="p">]]</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">output</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos">422</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos">423</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="L-424"><a href="#L-424"><span class="linenos">424</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos">425</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">,**</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos">426</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos">427</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="L-428"><a href="#L-428"><span class="linenos">428</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos">429</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos">430</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos">431</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-432"><a href="#L-432"><span class="linenos">432</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="L-433"><a href="#L-433"><span class="linenos">433</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos">434</span></a>
</span><span id="L-435"><a href="#L-435"><span class="linenos">435</span></a><span class="k">class</span> <span class="nc">ShellTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos">436</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a task that writes the string command+arguments to the command line when executed&quot;&quot;&quot;</span>
</span><span id="L-437"><a href="#L-437"><span class="linenos">437</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span>  <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span><span class="p">,</span><span class="n">arguments</span>  <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos">438</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ShellTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos">439</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span>  <span class="o">=</span> <span class="n">command</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos">440</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span>
</span><span id="L-441"><a href="#L-441"><span class="linenos">441</span></a>
</span><span id="L-442"><a href="#L-442"><span class="linenos">442</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos">443</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos">444</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-445"><a href="#L-445"><span class="linenos">445</span></a>            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">,</span><span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos">446</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos">447</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-448"><a href="#L-448"><span class="linenos">448</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos">449</span></a>
</span><span id="L-450"><a href="#L-450"><span class="linenos">450</span></a><span class="k">class</span> <span class="nc">StartTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-451"><a href="#L-451"><span class="linenos">451</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Container for starting tasks in a workflow&quot;&quot;&quot;</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos">452</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos">453</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StartTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos">454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos">455</span></a>
</span><span id="L-456"><a href="#L-456"><span class="linenos">456</span></a><span class="k">class</span> <span class="nc">StopTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos">457</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Container for the last task in a work flow&quot;&quot;&quot;</span>
</span><span id="L-458"><a href="#L-458"><span class="linenos">458</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Stop&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos">459</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StopTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos">460</span></a>
</span><span id="L-461"><a href="#L-461"><span class="linenos">461</span></a><span class="k">class</span> <span class="nc">SimpleVisaTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-462"><a href="#L-462"><span class="linenos">462</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sends a single command to a visa resource&quot;&quot;&quot;</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos">463</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">resource_name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;IDN?&quot;</span><span class="p">,</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;query&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos">464</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">SimpleVisaTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos">465</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="L-466"><a href="#L-466"><span class="linenos">466</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos">467</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos">468</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Visa&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="L-469"><a href="#L-469"><span class="linenos">469</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos">470</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos">471</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-472"><a href="#L-472"><span class="linenos">472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span> <span class="o">=</span> <span class="n">resource_name</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos">473</span></a>
</span><span id="L-474"><a href="#L-474"><span class="linenos">474</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos">475</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-476"><a href="#L-476"><span class="linenos">476</span></a>            <span class="n">rm</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos">477</span></a>            <span class="n">resource</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span><span class="p">)</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos">478</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-479"><a href="#L-479"><span class="linenos">479</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos">480</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos">481</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-482"><a href="#L-482"><span class="linenos">482</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos">483</span></a>
</span><span id="L-484"><a href="#L-484"><span class="linenos">484</span></a><span class="k">class</span> <span class="nc">FunctionalExperimentTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos">485</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs an experiment based on a function. The function should return data as a single dictionary&quot;&quot;&quot;</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos">486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos">487</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">run_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos">488</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="s2">&quot;Experiment&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;task&quot;</span><span class="p">),</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos">489</span></a>                    <span class="s2">&quot;finished_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;finished&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="L-490"><a href="#L-490"><span class="linenos">490</span></a>                    <span class="s2">&quot;output_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;experiment&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos">491</span></a>                    <span class="s2">&quot;dependent_run_list&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos">492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos">493</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos">494</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos">495</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos">496</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos">497</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="L-498"><a href="#L-498"><span class="linenos">498</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos">499</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos">500</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="L-501"><a href="#L-501"><span class="linenos">501</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos">502</span></a>            <span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">run_list</span><span class="p">)</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos">503</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos">504</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos">505</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="L-506"><a href="#L-506"><span class="linenos">506</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;output_path&quot;</span><span class="p">]</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos">507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">)</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos">508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;finished_path&quot;</span><span class="p">]</span>
</span><span id="L-509"><a href="#L-509"><span class="linenos">509</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionalExperimentTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">)</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos">510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos">511</span></a>    <span class="k">def</span> <span class="nf">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos">512</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;appends a row to the finshed csv&quot;&quot;&quot;</span>
</span><span id="L-513"><a href="#L-513"><span class="linenos">513</span></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">point</span><span class="p">])</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos">514</span></a>        <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos">515</span></a>
</span><span id="L-516"><a href="#L-516"><span class="linenos">516</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-517"><a href="#L-517"><span class="linenos">517</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos">518</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;dependent_run_list&quot;</span><span class="p">]:</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos">519</span></a>                <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos">520</span></a>                    <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="L-521"><a href="#L-521"><span class="linenos">521</span></a>                        <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos">522</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot; task.output&quot;</span><span class="p">)</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos">523</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-524"><a href="#L-524"><span class="linenos">524</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos">525</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos">526</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of the experiment has begun&quot;</span><span class="p">)</span>
</span><span id="L-527"><a href="#L-527"><span class="linenos">527</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos">528</span></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos">529</span></a>            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="p">:</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos">530</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos">531</span></a>                    <span class="n">output_point</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos">532</span></a>                    <span class="n">run_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos">533</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos">534</span></a>                    <span class="n">log_entry</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-535"><a href="#L-535"><span class="linenos">535</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos">536</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;loop_number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
</span><span id="L-537"><a href="#L-537"><span class="linenos">537</span></a>                    <span class="n">log_entry</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos">538</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos">539</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos">540</span></a>                    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">**</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos">541</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos">542</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="L-543"><a href="#L-543"><span class="linenos">543</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos">544</span></a>                    <span class="n">output_point</span><span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos">545</span></a>                    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos">546</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-547"><a href="#L-547"><span class="linenos">547</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos">548</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos">549</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos">550</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos">551</span></a>                    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="L-552"><a href="#L-552"><span class="linenos">552</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos">553</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="L-554"><a href="#L-554"><span class="linenos">554</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">({</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span> <span class="s2">&quot;loop_number&quot;</span><span class="p">:</span> <span class="n">n</span><span class="p">})</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos">555</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">on_point_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos">556</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos">557</span></a>                    <span class="k">pass</span>
</span><span id="L-558"><a href="#L-558"><span class="linenos">558</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos">559</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos">560</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="L-561"><a href="#L-561"><span class="linenos">561</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos">562</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos">563</span></a>
</span><span id="L-564"><a href="#L-564"><span class="linenos">564</span></a>    <span class="k">def</span> <span class="nf">on_point_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos">565</span></a>        <span class="k">pass</span>
</span><span id="L-566"><a href="#L-566"><span class="linenos">566</span></a>
</span><span id="L-567"><a href="#L-567"><span class="linenos">567</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos">568</span></a><span class="c1"># Module Scripts</span>
</span><span id="L-569"><a href="#L-569"><span class="linenos">569</span></a><span class="k">def</span> <span class="nf">test_MultipleDependentFunction</span><span class="p">():</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos">570</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos">571</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="L-572"><a href="#L-572"><span class="linenos">572</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos">573</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-574"><a href="#L-574"><span class="linenos">574</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos">575</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos">576</span></a>    <span class="k">def</span> <span class="nf">f3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
</span><span id="L-577"><a href="#L-577"><span class="linenos">577</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos">578</span></a>    <span class="n">task1</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">)</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos">579</span></a>    <span class="n">task2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;add_2&quot;</span><span class="p">)</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos">580</span></a>    <span class="n">task3</span> <span class="o">=</span> <span class="n">MultipleDependentFunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f3</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;sum_of_both&quot;</span><span class="p">)</span>
</span><span id="L-581"><a href="#L-581"><span class="linenos">581</span></a>    <span class="n">dependency1</span> <span class="o">=</span> <span class="n">TaskDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span><span class="n">task1</span><span class="p">,</span><span class="s1">&#39;output_name&#39;</span><span class="p">:</span><span class="s2">&quot;x&quot;</span><span class="p">})</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos">582</span></a>    <span class="n">dependency2</span> <span class="o">=</span> <span class="n">TaskDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span><span class="n">task2</span><span class="p">,</span><span class="s1">&#39;output_name&#39;</span><span class="p">:</span><span class="s2">&quot;y&quot;</span><span class="p">})</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos">583</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency1</span><span class="p">)</span>
</span><span id="L-584"><a href="#L-584"><span class="linenos">584</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency2</span><span class="p">)</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos">585</span></a>    <span class="n">task1</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos">586</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task1 named </span><span class="si">{</span><span class="n">task1</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task1</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span><span id="L-587"><a href="#L-587"><span class="linenos">587</span></a>    <span class="n">task2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos">588</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task2 named </span><span class="si">{</span><span class="n">task2</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos">589</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-590"><a href="#L-590"><span class="linenos">590</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task3 named </span><span class="si">{</span><span class="n">task3</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task3</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos">591</span></a>
</span><span id="L-592"><a href="#L-592"><span class="linenos">592</span></a><span class="k">def</span> <span class="nf">test_Dependency</span><span class="p">(</span><span class="n">number_repeats</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">32</span><span class="p">),</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos">593</span></a>                    <span class="n">absolute_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">30</span><span class="p">)):</span>
</span><span id="L-594"><a href="#L-594"><span class="linenos">594</span></a>    <span class="kn">import</span> <span class="nn">time</span>
</span><span id="L-595"><a href="#L-595"><span class="linenos">595</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new Dependency Class&quot;</span><span class="p">)</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos">596</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Test&#39;</span><span class="p">,</span><span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;repeat_n_times&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;always_false&#39;</span><span class="p">,</span><span class="n">number_repeats</span><span class="o">=</span><span class="n">number_repeats</span><span class="p">)</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos">597</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The contents of the dependency are </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dependency</span><span class="p">))</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos">598</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">()</span>
</span><span id="L-599"><a href="#L-599"><span class="linenos">599</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos">600</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos">601</span></a>
</span><span id="L-602"><a href="#L-602"><span class="linenos">602</span></a>    <span class="n">dependency_2</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Timer&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;repeat_until&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;timer&#39;</span><span class="p">,</span>
</span><span id="L-603"><a href="#L-603"><span class="linenos">603</span></a>                              <span class="n">repeat_time</span><span class="o">=</span><span class="n">repeat_time</span><span class="p">,</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos">604</span></a>                              <span class="nb">input</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;absolute_time&quot;</span><span class="p">:</span><span class="n">absolute_time</span><span class="p">})</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos">605</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency_2</span><span class="p">)</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos">606</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">):</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos">607</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="L-608"><a href="#L-608"><span class="linenos">608</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;iteration : </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos">609</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos">610</span></a>        <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-611"><a href="#L-611"><span class="linenos">611</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">met_dependencies</span><span class="p">)</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos">612</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos">613</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">)</span>
</span><span id="L-614"><a href="#L-614"><span class="linenos">614</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">dependency_times</span><span class="p">)</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos">615</span></a>
</span><span id="L-616"><a href="#L-616"><span class="linenos">616</span></a><span class="k">def</span> <span class="nf">test_two_FunctionTasks</span><span class="p">():</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos">617</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests dependent FunctionTasks&quot;&quot;&quot;</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos">618</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-619"><a href="#L-619"><span class="linenos">619</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos">620</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-621"><a href="#L-621"><span class="linenos">621</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos">622</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos">623</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos">624</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos">625</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span><span id="L-626"><a href="#L-626"><span class="linenos">626</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos">627</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos">628</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos">629</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-630"><a href="#L-630"><span class="linenos">630</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos">631</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos">632</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="L-633"><a href="#L-633"><span class="linenos">633</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new type dependency and adding it to task 1&quot;</span><span class="p">)</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos">634</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">input_variable</span><span class="p">},</span> <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)}})</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos">635</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos">636</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a second function task&quot;</span><span class="p">)</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos">637</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f2</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="o">.</span><span class="n">output</span><span class="p">})</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos">638</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a task dependency and adding it to task 2&quot;</span><span class="p">)</span>
</span><span id="L-639"><a href="#L-639"><span class="linenos">639</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos">640</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="p">})</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos">641</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="L-642"><a href="#L-642"><span class="linenos">642</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing task 1 after checking the dependencies&quot;</span><span class="p">)</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos">643</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos">644</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-645"><a href="#L-645"><span class="linenos">645</span></a>    <span class="c1">#new_task_2.args = [new_task.output]</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos">646</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task 2 arguments are </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos">647</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-648"><a href="#L-648"><span class="linenos">648</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos">649</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The output of task 2 is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos">650</span></a>
</span><span id="L-651"><a href="#L-651"><span class="linenos">651</span></a><span class="k">def</span> <span class="nf">test_DependentFunctionTask</span><span class="p">():</span>
</span><span id="L-652"><a href="#L-652"><span class="linenos">652</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests dependent FunctionTasks&quot;&quot;&quot;</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos">653</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos">654</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos">655</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos">656</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-657"><a href="#L-657"><span class="linenos">657</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos">658</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos">659</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-660"><a href="#L-660"><span class="linenos">660</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos">661</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos">662</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-663"><a href="#L-663"><span class="linenos">663</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos">664</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos">665</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos">666</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-667"><a href="#L-667"><span class="linenos">667</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos">668</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new type dependency and adding it to task 1&quot;</span><span class="p">)</span>
</span><span id="L-669"><a href="#L-669"><span class="linenos">669</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">input_variable</span><span class="p">},</span> <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)}})</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos">670</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos">671</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a second function task&quot;</span><span class="p">)</span>
</span><span id="L-672"><a href="#L-672"><span class="linenos">672</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">DependentFunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f2</span><span class="p">)</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos">673</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a task dependency and adding it to task 2&quot;</span><span class="p">)</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos">674</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="L-675"><a href="#L-675"><span class="linenos">675</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="p">})</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos">676</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos">677</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing task 1 after checking the dependencies&quot;</span><span class="p">)</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos">678</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-679"><a href="#L-679"><span class="linenos">679</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos">680</span></a>    <span class="c1">#new_task_2.args = [new_task.output]</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos">681</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task 2 arguments are </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">task_outputs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-682"><a href="#L-682"><span class="linenos">682</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos">683</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos">684</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The output of task 2 is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos">685</span></a>
</span><span id="L-686"><a href="#L-686"><span class="linenos">686</span></a><span class="k">def</span> <span class="nf">test_FunctionTask</span><span class="p">():</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos">687</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple test of the FunctionTask class&quot;&quot;&quot;</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos">688</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos">689</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-690"><a href="#L-690"><span class="linenos">690</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos">691</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos">692</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos">693</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos">694</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">],</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="L-695"><a href="#L-695"><span class="linenos">695</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos">696</span></a>
</span><span id="L-697"><a href="#L-697"><span class="linenos">697</span></a><span class="k">def</span> <span class="nf">test_type_checker</span><span class="p">():</span>
</span><span id="L-698"><a href="#L-698"><span class="linenos">698</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests the type checker &quot;&quot;&quot;</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos">699</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos">700</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-701"><a href="#L-701"><span class="linenos">701</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos">702</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos">703</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos">704</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="L-705"><a href="#L-705"><span class="linenos">705</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos">706</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos">707</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;type_checker&#39;</span><span class="p">,</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos">708</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">input_variable</span><span class="p">},</span><span class="s2">&quot;types&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)}})</span>
</span><span id="L-709"><a href="#L-709"><span class="linenos">709</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos">710</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos">711</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos">712</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-713"><a href="#L-713"><span class="linenos">713</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos">714</span></a>
</span><span id="L-715"><a href="#L-715"><span class="linenos">715</span></a><span class="k">def</span> <span class="nf">test_task_checker</span><span class="p">():</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos">716</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests a task dependency and it&#39;s checker by making two simple tasks and executing them serially</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos">717</span></a><span class="sd">    and printing diagnostic information.&quot;&quot;&quot;</span>
</span><span id="L-718"><a href="#L-718"><span class="linenos">718</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos">719</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos">720</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="L-721"><a href="#L-721"><span class="linenos">721</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos">722</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos">723</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mf">3.2</span>
</span><span id="L-724"><a href="#L-724"><span class="linenos">724</span></a>    <span class="n">new_task_1</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos">725</span></a>    <span class="n">output_variable</span> <span class="o">=</span><span class="mi">0</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos">726</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task_1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos">727</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">input_variable</span><span class="p">},</span><span class="s2">&quot;types&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)}})</span>
</span><span id="L-728"><a href="#L-728"><span class="linenos">728</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos">729</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task_1</span><span class="p">})</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos">730</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos">731</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-732"><a href="#L-732"><span class="linenos">732</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos">733</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos">734</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos">735</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The 1st task returned </span><span class="si">{</span><span class="n">output_variable</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-736"><a href="#L-736"><span class="linenos">736</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The  1st task log is </span><span class="si">{</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos">737</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos">738</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;the value of input is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos">739</span></a>    <span class="n">out_2</span> <span class="o">=</span> <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-740"><a href="#L-740"><span class="linenos">740</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The 2nd task returned </span><span class="si">{</span><span class="n">out_2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos">741</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The  2nd task log is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos">742</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
</span><span id="L-743"><a href="#L-743"><span class="linenos">743</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The first task depth is </span><span class="si">{</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos">744</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The second task depth is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos">745</span></a>
</span><span id="L-746"><a href="#L-746"><span class="linenos">746</span></a><span class="k">def</span> <span class="nf">test_chained_tasks</span><span class="p">(</span><span class="n">n_tasks</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">):</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos">747</span></a>    <span class="s2">&quot;Tests a series of tasks that depend on the previous one&quot;</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos">748</span></a>    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos">749</span></a>    <span class="n">first_task</span> <span class="o">=</span><span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos">750</span></a>    <span class="n">old_task</span> <span class="o">=</span> <span class="n">first_task</span>
</span><span id="L-751"><a href="#L-751"><span class="linenos">751</span></a>    <span class="n">old_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos">752</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">):</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos">753</span></a>        <span class="c1"># create a task</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos">754</span></a>        <span class="n">new_function</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">i</span>
</span><span id="L-755"><a href="#L-755"><span class="linenos">755</span></a>        <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">new_function</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">old_task</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos">756</span></a>        <span class="c1"># add  a dependency</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos">757</span></a>        <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos">758</span></a>                                     <span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="n">old_task</span><span class="p">})</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos">759</span></a>        <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="L-760"><a href="#L-760"><span class="linenos">760</span></a>        <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos">761</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The new task depth is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos">762</span></a>        <span class="c1"># make the new_task the old_task</span>
</span><span id="L-763"><a href="#L-763"><span class="linenos">763</span></a>        <span class="n">old_task</span> <span class="o">=</span> <span class="n">new_task</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos">764</span></a>        <span class="n">old_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos">765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos">766</span></a>    <span class="k">for</span> <span class="n">task_index</span><span class="p">,</span><span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos">767</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos">768</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Checking Dependencies for task number </span><span class="si">{</span><span class="n">task_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos">769</span></a>        <span class="n">task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-770"><a href="#L-770"><span class="linenos">770</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">log</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos">771</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing the function ...&quot;</span><span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos">772</span></a>        <span class="c1">#task.execute()</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos">773</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The function returns </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-774"><a href="#L-774"><span class="linenos">774</span></a>
</span><span id="L-775"><a href="#L-775"><span class="linenos">775</span></a>
</span><span id="L-776"><a href="#L-776"><span class="linenos">776</span></a><span class="k">def</span> <span class="nf">test_Task</span><span class="p">():</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos">777</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new task and prints the directory&quot;&quot;&quot;</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos">778</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">()</span>
</span><span id="L-779"><a href="#L-779"><span class="linenos">779</span></a>    <span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">))</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos">780</span></a>
</span><span id="L-781"><a href="#L-781"><span class="linenos">781</span></a><span class="k">def</span> <span class="nf">test_ShellTask</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span><span class="p">):</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos">782</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test&#39;s the ShellTask Class by passing it command and executing it &quot;&quot;&quot;</span>
</span><span id="L-783"><a href="#L-783"><span class="linenos">783</span></a>    <span class="n">st</span> <span class="o">=</span> <span class="n">ShellTask</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos">784</span></a>    <span class="n">st</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos">785</span></a>    <span class="n">st</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos">786</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The ShellTask.completed is </span><span class="si">{</span><span class="n">st</span><span class="o">.</span><span class="n">completed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-787"><a href="#L-787"><span class="linenos">787</span></a>
</span><span id="L-788"><a href="#L-788"><span class="linenos">788</span></a><span class="k">def</span> <span class="nf">test_schedule</span><span class="p">():</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos">789</span></a>    <span class="n">tasks</span> <span class="o">=</span><span class="p">[]</span>
</span><span id="L-790"><a href="#L-790"><span class="linenos">790</span></a>    <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">StartTask</span><span class="p">())</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos">791</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos">792</span></a>        <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Task</span><span class="p">())</span>
</span><span id="L-793"><a href="#L-793"><span class="linenos">793</span></a>    <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">StopTask</span><span class="p">)</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos">794</span></a>    <span class="n">schedule</span> <span class="o">=</span> <span class="p">[[],[],[]]</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos">795</span></a>    <span class="k">for</span> <span class="n">task_index</span><span class="p">,</span><span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos">796</span></a>        <span class="k">if</span> <span class="n">task_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-797"><a href="#L-797"><span class="linenos">797</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tasks</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos">798</span></a>        <span class="k">elif</span> <span class="n">task_index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="L-799"><a href="#L-799"><span class="linenos">799</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tasks</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos">800</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos">801</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span><span id="L-802"><a href="#L-802"><span class="linenos">802</span></a>    <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="n">schedule</span><span class="p">:</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos">803</span></a>        <span class="k">while</span> <span class="n">slot</span><span class="p">:</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos">804</span></a>            <span class="n">task_done</span> <span class="o">=</span> <span class="n">slot</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos">805</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="n">task_done</span><span class="si">}</span><span class="s2"> was popped from slot&quot;</span><span class="p">)</span>
</span><span id="L-806"><a href="#L-806"><span class="linenos">806</span></a><span class="c1">#-----------------------------------------------------------------------------</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos">807</span></a><span class="c1"># Module Runner</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos">808</span></a>
</span><span id="L-809"><a href="#L-809"><span class="linenos">809</span></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
</span><span id="L-810"><a href="#L-810"><span class="linenos">810</span></a>    <span class="n">test_FunctionTask</span><span class="p">()</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos">811</span></a>    <span class="c1">#test_Dependency()</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos">812</span></a>    <span class="c1">#test_Task()</span>
</span><span id="L-813"><a href="#L-813"><span class="linenos">813</span></a>    <span class="c1">#test_type_checker()</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos">814</span></a>    <span class="c1">#test_task_checker()</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos">815</span></a>    <span class="c1">#test_ShellTask()</span>
</span><span id="L-816"><a href="#L-816"><span class="linenos">816</span></a>    <span class="c1">#test_chained_tasks()</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos">817</span></a>    <span class="c1">#test_schedule()</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos">818</span></a>    <span class="c1">#test_two_FunctionTasks()</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos">819</span></a>    <span class="c1">#test_DependentFunctionTask()</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos">820</span></a>    <span class="c1">#test_MultipleDependentFunction()</span>
</span></pre></div>


            </section>
                <section id="print_time">
                            <input id="print_time-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">print_time</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">duration</span><span class="o">=</span><span class="mi">100</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="print_time-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#print_time"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="print_time-36"><a href="#print_time-36"><span class="linenos">36</span></a><span class="k">def</span> <span class="nf">print_time</span><span class="p">(</span><span class="n">duration</span> <span class="o">=</span> <span class="mi">100</span><span class="p">):</span>
</span><span id="print_time-37"><a href="#print_time-37"><span class="linenos">37</span></a>    <span class="s2">&quot;A function that prints the time every 1 second for duration to test tasks&quot;</span>
</span><span id="print_time-38"><a href="#print_time-38"><span class="linenos">38</span></a>    <span class="n">duration</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="n">duration</span><span class="p">)</span>
</span><span id="print_time-39"><a href="#print_time-39"><span class="linenos">39</span></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="print_time-40"><a href="#print_time-40"><span class="linenos">40</span></a>    <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="print_time-41"><a href="#print_time-41"><span class="linenos">41</span></a>    <span class="k">while</span> <span class="n">current_time</span><span class="o">-</span><span class="n">start_time</span> <span class="o">&lt;</span> <span class="n">duration</span><span class="p">:</span>
</span><span id="print_time-42"><a href="#print_time-42"><span class="linenos">42</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">current_time</span><span class="p">)</span>
</span><span id="print_time-43"><a href="#print_time-43"><span class="linenos">43</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="print_time-44"><a href="#print_time-44"><span class="linenos">44</span></a>        <span class="n">current_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>A function that prints the time every 1 second for duration to test tasks</p>
</div>


                </section>
                <section id="always_true">
                            <input id="always_true-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">always_true</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="always_true-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#always_true"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="always_true-46"><a href="#always_true-46"><span class="linenos">46</span></a><span class="k">def</span> <span class="nf">always_true</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="always_true-47"><a href="#always_true-47"><span class="linenos">47</span></a>    <span class="s2">&quot;Test checker that always returns True&quot;</span>
</span><span id="always_true-48"><a href="#always_true-48"><span class="linenos">48</span></a>    <span class="k">return</span> <span class="kc">True</span>
</span></pre></div>


            <div class="docstring"><p>Test checker that always returns True</p>
</div>


                </section>
                <section id="always_false">
                            <input id="always_false-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">always_false</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="always_false-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#always_false"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="always_false-50"><a href="#always_false-50"><span class="linenos">50</span></a><span class="k">def</span> <span class="nf">always_false</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="always_false-51"><a href="#always_false-51"><span class="linenos">51</span></a>    <span class="s2">&quot;Test checker that always returns False&quot;</span>
</span><span id="always_false-52"><a href="#always_false-52"><span class="linenos">52</span></a>    <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Test checker that always returns False</p>
</div>


                </section>
                <section id="timer">
                            <input id="timer-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">timer</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="timer-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#timer"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="timer-54"><a href="#timer-54"><span class="linenos">54</span></a><span class="k">def</span> <span class="nf">timer</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="timer-55"><a href="#timer-55"><span class="linenos">55</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Timer checker that checks if a time in input = {&#39;absolute_time&#39;:Datetime} has elapsed or</span>
</span><span id="timer-56"><a href="#timer-56"><span class="linenos">56</span></a><span class="sd">    if a relative time specified by input = {&#39;relative_time&#39;:TimeDelta,&#39;start_time&#39;:DateTime} has elapsed&quot;&quot;&quot;</span>
</span><span id="timer-57"><a href="#timer-57"><span class="linenos">57</span></a>    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="timer-58"><a href="#timer-58"><span class="linenos">58</span></a>    <span class="k">if</span> <span class="s2">&quot;absolute_time&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="timer-59"><a href="#timer-59"><span class="linenos">59</span></a>        <span class="k">if</span> <span class="n">now</span><span class="o">&gt;</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;absolute_time&quot;</span><span class="p">]:</span>
</span><span id="timer-60"><a href="#timer-60"><span class="linenos">60</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="timer-61"><a href="#timer-61"><span class="linenos">61</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="timer-62"><a href="#timer-62"><span class="linenos">62</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span><span id="timer-63"><a href="#timer-63"><span class="linenos">63</span></a>    <span class="k">if</span> <span class="s2">&quot;relative_time&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span><span id="timer-64"><a href="#timer-64"><span class="linenos">64</span></a>        <span class="n">delta</span> <span class="o">=</span> <span class="n">now</span><span class="o">-</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;start_time&quot;</span><span class="p">]</span>
</span><span id="timer-65"><a href="#timer-65"><span class="linenos">65</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;delta is </span><span class="si">{</span><span class="n">delta</span><span class="si">}</span><span class="s1">, relative_time is </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;relative_time&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="timer-66"><a href="#timer-66"><span class="linenos">66</span></a>        <span class="k">if</span> <span class="n">delta</span><span class="o">&gt;</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;relative_time&quot;</span><span class="p">]:</span>
</span><span id="timer-67"><a href="#timer-67"><span class="linenos">67</span></a>            <span class="k">return</span> <span class="kc">True</span>
</span><span id="timer-68"><a href="#timer-68"><span class="linenos">68</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="timer-69"><a href="#timer-69"><span class="linenos">69</span></a>            <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Timer checker that checks if a time in input = {'absolute_time':Datetime} has elapsed or
if a relative time specified by input = {'relative_time':TimeDelta,'start_time':DateTime} has elapsed</p>
</div>


                </section>
                <section id="time_of_day_checker">
                            <input id="time_of_day_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">time_of_day_checker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="time_of_day_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#time_of_day_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="time_of_day_checker-71"><a href="#time_of_day_checker-71"><span class="linenos">71</span></a><span class="k">def</span> <span class="nf">time_of_day_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="time_of_day_checker-72"><a href="#time_of_day_checker-72"><span class="linenos">72</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Time of day checker determines if it is currently between start time and stop time&quot;&quot;&quot;</span>
</span><span id="time_of_day_checker-73"><a href="#time_of_day_checker-73"><span class="linenos">73</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Time of day checker determines if it is currently between start time and stop time</p>
</div>


                </section>
                <section id="task_checker">
                            <input id="task_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">task_checker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="task_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#task_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="task_checker-75"><a href="#task_checker-75"><span class="linenos">75</span></a><span class="k">def</span> <span class="nf">task_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="task_checker-76"><a href="#task_checker-76"><span class="linenos">76</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if a the task in input = {&#39;task&#39;:Task} has been completed &quot;&quot;&quot;</span>
</span><span id="task_checker-77"><a href="#task_checker-77"><span class="linenos">77</span></a>    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;task&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">completed</span><span class="p">:</span>
</span><span id="task_checker-78"><a href="#task_checker-78"><span class="linenos">78</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="task_checker-79"><a href="#task_checker-79"><span class="linenos">79</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="task_checker-80"><a href="#task_checker-80"><span class="linenos">80</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Determines if a the task in input = {'task':Task} has been completed</p>
</div>


                </section>
                <section id="task_value_type_checker">
                            <input id="task_value_type_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">task_value_type_checker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="task_value_type_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#task_value_type_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="task_value_type_checker-82"><a href="#task_value_type_checker-82"><span class="linenos">82</span></a><span class="k">def</span> <span class="nf">task_value_type_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="task_value_type_checker-83"><a href="#task_value_type_checker-83"><span class="linenos">83</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Determines if the task is done and the output is off the type input ={&#39;task&#39;:Task,&#39;ouptut_name&#39;:name,&#39;output_type&#39;:int}&quot;&quot;&quot;</span>
</span><span id="task_value_type_checker-84"><a href="#task_value_type_checker-84"><span class="linenos">84</span></a>    <span class="n">completed</span> <span class="o">=</span> <span class="n">task_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="task_value_type_checker-85"><a href="#task_value_type_checker-85"><span class="linenos">85</span></a>    <span class="nb">type</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="task_value_type_checker-86"><a href="#task_value_type_checker-86"><span class="linenos">86</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">,</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s1">&#39;output_type&#39;</span><span class="p">]):</span>
</span><span id="task_value_type_checker-87"><a href="#task_value_type_checker-87"><span class="linenos">87</span></a>        <span class="nb">type</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="task_value_type_checker-88"><a href="#task_value_type_checker-88"><span class="linenos">88</span></a>    <span class="k">return</span> <span class="n">completed</span> <span class="ow">and</span> <span class="nb">type</span>
</span></pre></div>


            <div class="docstring"><p>Determines if the task is done and the output is off the type input ={'task':Task,'ouptut_name':name,'output_type':int}</p>
</div>


                </section>
                <section id="type_checker">
                            <input id="type_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">type_checker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="type_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#type_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="type_checker-90"><a href="#type_checker-90"><span class="linenos">90</span></a><span class="k">def</span> <span class="nf">type_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="type_checker-91"><a href="#type_checker-91"><span class="linenos">91</span></a>    <span class="n">output</span><span class="o">=</span><span class="kc">True</span>
</span><span id="type_checker-92"><a href="#type_checker-92"><span class="linenos">92</span></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;variables&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="type_checker-93"><a href="#type_checker-93"><span class="linenos">93</span></a>        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;types&quot;</span><span class="p">][</span><span class="n">key</span><span class="p">]):</span>
</span><span id="type_checker-94"><a href="#type_checker-94"><span class="linenos">94</span></a>            <span class="n">output</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="type_checker-95"><a href="#type_checker-95"><span class="linenos">95</span></a>    <span class="k">return</span> <span class="n">output</span>
</span></pre></div>


    

                </section>
                <section id="file_exists_checker">
                            <input id="file_exists_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">file_exists_checker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="file_exists_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#file_exists_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="file_exists_checker-97"><a href="#file_exists_checker-97"><span class="linenos"> 97</span></a><span class="k">def</span> <span class="nf">file_exists_checker</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="file_exists_checker-98"><a href="#file_exists_checker-98"><span class="linenos"> 98</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Checks to see if a file exits, requires the dependency to have input  = {&#39;file&#39;:fileName}&quot;&quot;&quot;</span>
</span><span id="file_exists_checker-99"><a href="#file_exists_checker-99"><span class="linenos"> 99</span></a>    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;file&quot;</span><span class="p">]):</span>
</span><span id="file_exists_checker-100"><a href="#file_exists_checker-100"><span class="linenos">100</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="file_exists_checker-101"><a href="#file_exists_checker-101"><span class="linenos">101</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="file_exists_checker-102"><a href="#file_exists_checker-102"><span class="linenos">102</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


            <div class="docstring"><p>Checks to see if a file exits, requires the dependency to have input  = {'file':fileName}</p>
</div>


                </section>
                <section id="visa_resource">
                            <input id="visa_resource-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">visa_resource</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="visa_resource-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#visa_resource"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="visa_resource-104"><a href="#visa_resource-104"><span class="linenos">104</span></a><span class="k">def</span> <span class="nf">visa_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="visa_resource-105"><a href="#visa_resource-105"><span class="linenos">105</span></a>    <span class="n">rm</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
</span><span id="visa_resource-106"><a href="#visa_resource-106"><span class="linenos">106</span></a>    <span class="n">resource</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;resource_name&#39;</span><span class="p">])</span>
</span><span id="visa_resource-107"><a href="#visa_resource-107"><span class="linenos">107</span></a>    <span class="n">idn</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;IDN?&quot;</span><span class="p">)</span>
</span><span id="visa_resource-108"><a href="#visa_resource-108"><span class="linenos">108</span></a>    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;idn&quot;</span><span class="p">],</span><span class="n">idn</span><span class="p">,</span><span class="n">re</span><span class="o">.</span><span class="n">IGNORECASE</span><span class="p">):</span>
</span><span id="visa_resource-109"><a href="#visa_resource-109"><span class="linenos">109</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="visa_resource-110"><a href="#visa_resource-110"><span class="linenos">110</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="visa_resource-111"><a href="#visa_resource-111"><span class="linenos">111</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span></pre></div>


    

                </section>
                <section id="ip_resource">
                            <input id="ip_resource-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ip_resource</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ip_resource-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ip_resource"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ip_resource-113"><a href="#ip_resource-113"><span class="linenos">113</span></a><span class="k">def</span> <span class="nf">ip_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="ip_resource-114"><a href="#ip_resource-114"><span class="linenos">114</span></a>    <span class="k">pass</span>
</span></pre></div>


    

                </section>
                <section id="ue_resource">
                            <input id="ue_resource-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ue_resource</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ue_resource-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ue_resource"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ue_resource-116"><a href="#ue_resource-116"><span class="linenos">116</span></a><span class="k">def</span> <span class="nf">ue_resource</span><span class="p">(</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="ue_resource-117"><a href="#ue_resource-117"><span class="linenos">117</span></a>    <span class="k">pass</span>
</span></pre></div>


    

                </section>
                <section id="DependencyError">
                            <input id="DependencyError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DependencyError</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="DependencyError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DependencyError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DependencyError-121"><a href="#DependencyError-121"><span class="linenos">121</span></a><span class="k">class</span> <span class="nc">DependencyError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="DependencyError-122"><a href="#DependencyError-122"><span class="linenos">122</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Common base class for all non-exit exceptions.</p>
</div>


                </section>
                <section id="TaskError">
                            <input id="TaskError-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TaskError</span><wbr>(<span class="base">builtins.Exception</span>):

                <label class="view-source-button" for="TaskError-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TaskError"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TaskError-124"><a href="#TaskError-124"><span class="linenos">124</span></a><span class="k">class</span> <span class="nc">TaskError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
</span><span id="TaskError-125"><a href="#TaskError-125"><span class="linenos">125</span></a>    <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Common base class for all non-exit exceptions.</p>
</div>


                </section>
                <section id="Dependency">
                            <input id="Dependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Dependency</span><wbr>(<span class="base">builtins.dict</span>):

                <label class="view-source-button" for="Dependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Dependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Dependency-127"><a href="#Dependency-127"><span class="linenos">127</span></a><span class="k">class</span> <span class="nc">Dependency</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
</span><span id="Dependency-128"><a href="#Dependency-128"><span class="linenos">128</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,</span>
</span><span id="Dependency-129"><a href="#Dependency-129"><span class="linenos">129</span></a><span class="sd">    number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the</span>
</span><span id="Dependency-130"><a href="#Dependency-130"><span class="linenos">130</span></a><span class="sd">     dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for&quot;&quot;&quot;</span>
</span><span id="Dependency-131"><a href="#Dependency-131"><span class="linenos">131</span></a>
</span><span id="Dependency-132"><a href="#Dependency-132"><span class="linenos">132</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">type</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;always_true&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="Dependency-133"><a href="#Dependency-133"><span class="linenos">133</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="Dependency-134"><a href="#Dependency-134"><span class="linenos">134</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">=</span> <span class="nb">type</span>
</span><span id="Dependency-135"><a href="#Dependency-135"><span class="linenos">135</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">input</span>
</span><span id="Dependency-136"><a href="#Dependency-136"><span class="linenos">136</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;on_fail&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">on_fail</span>
</span><span id="Dependency-137"><a href="#Dependency-137"><span class="linenos">137</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;checker&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">checker</span>
</span><span id="Dependency-138"><a href="#Dependency-138"><span class="linenos">138</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">duration</span>
</span><span id="Dependency-139"><a href="#Dependency-139"><span class="linenos">139</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">number_repeats</span>
</span><span id="Dependency-140"><a href="#Dependency-140"><span class="linenos">140</span></a>        <span class="bp">self</span><span class="p">[</span><span class="s1">&#39;repeat_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">repeat_time</span>
</span></pre></div>


            <div class="docstring"><p>A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,
number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the
 dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for</p>
</div>


                </section>
                <section id="TimeOfDayDependency">
                            <input id="TimeOfDayDependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TimeOfDayDependency</span><wbr>(<span class="base"><a href="#Dependency">Dependency</a></span>):

                <label class="view-source-button" for="TimeOfDayDependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TimeOfDayDependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TimeOfDayDependency-142"><a href="#TimeOfDayDependency-142"><span class="linenos">142</span></a><span class="k">class</span> <span class="nc">TimeOfDayDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="TimeOfDayDependency-143"><a href="#TimeOfDayDependency-143"><span class="linenos">143</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Built to make sure it is a specific time of day on a 24 hour clock&quot;&quot;&quot;</span>
</span><span id="TimeOfDayDependency-144"><a href="#TimeOfDayDependency-144"><span class="linenos">144</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hour_start</span> <span class="o">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">minute_start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">second_start</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">,</span>
</span><span id="TimeOfDayDependency-145"><a href="#TimeOfDayDependency-145"><span class="linenos">145</span></a>                  <span class="n">hour_stop</span> <span class="o">=</span> <span class="mi">24</span><span class="p">,</span> <span class="n">minute_stop</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">second_stop</span> <span class="o">=</span> <span class="mi">0</span>  <span class="p">):</span>
</span><span id="TimeOfDayDependency-146"><a href="#TimeOfDayDependency-146"><span class="linenos">146</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Built to make sure it is a specific time of day on a 24 hour clock</p>
</div>


                </section>
                <section id="TaskDependency">
                            <input id="TaskDependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TaskDependency</span><wbr>(<span class="base"><a href="#Dependency">Dependency</a></span>):

                <label class="view-source-button" for="TaskDependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TaskDependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TaskDependency-148"><a href="#TaskDependency-148"><span class="linenos">148</span></a><span class="k">class</span> <span class="nc">TaskDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="TaskDependency-149"><a href="#TaskDependency-149"><span class="linenos">149</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;task_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TaskDependency-150"><a href="#TaskDependency-150"><span class="linenos">150</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="TaskDependency-151"><a href="#TaskDependency-151"><span class="linenos">151</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TaskDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="TaskDependency-152"><a href="#TaskDependency-152"><span class="linenos">152</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a task dependency or only do the next task if this one is done, the input should be of the form</span>
</span><span id="TaskDependency-153"><a href="#TaskDependency-153"><span class="linenos">153</span></a><span class="sd">        input = {&#39;task&#39;:Task}&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,
number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the
 dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for</p>
</div>


                </section>
                <section id="TaskOutputDependency">
                            <input id="TaskOutputDependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TaskOutputDependency</span><wbr>(<span class="base"><a href="#Dependency">Dependency</a></span>):

                <label class="view-source-button" for="TaskOutputDependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TaskOutputDependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TaskOutputDependency-155"><a href="#TaskOutputDependency-155"><span class="linenos">155</span></a><span class="k">class</span> <span class="nc">TaskOutputDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="TaskOutputDependency-156"><a href="#TaskOutputDependency-156"><span class="linenos">156</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;task_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TaskOutputDependency-157"><a href="#TaskOutputDependency-157"><span class="linenos">157</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="TaskOutputDependency-158"><a href="#TaskOutputDependency-158"><span class="linenos">158</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TaskOutputDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="TaskOutputDependency-159"><a href="#TaskOutputDependency-159"><span class="linenos">159</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a task dependency or only do the next task if this one is done and if the </span>
</span><span id="TaskOutputDependency-160"><a href="#TaskOutputDependency-160"><span class="linenos">160</span></a><span class="sd">        output is of the right type, the input should be of the form</span>
</span><span id="TaskOutputDependency-161"><a href="#TaskOutputDependency-161"><span class="linenos">161</span></a><span class="sd">        input = {&#39;task&#39;:Task,&#39;output_name&#39;:&#39;variable_name&#39;,&#39;output_type&#39;:int}&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,
number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the
 dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for</p>
</div>


                </section>
                <section id="TypeDependency">
                            <input id="TypeDependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TypeDependency</span><wbr>(<span class="base"><a href="#Dependency">Dependency</a></span>):

                <label class="view-source-button" for="TypeDependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#TypeDependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="TypeDependency-163"><a href="#TypeDependency-163"><span class="linenos">163</span></a><span class="k">class</span> <span class="nc">TypeDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="TypeDependency-164"><a href="#TypeDependency-164"><span class="linenos">164</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;type_checker&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="TypeDependency-165"><a href="#TypeDependency-165"><span class="linenos">165</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="TypeDependency-166"><a href="#TypeDependency-166"><span class="linenos">166</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">TypeDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span><span id="TypeDependency-167"><a href="#TypeDependency-167"><span class="linenos">167</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Represents a type dependency (unit test), the input should be of the form</span>
</span><span id="TypeDependency-168"><a href="#TypeDependency-168"><span class="linenos">168</span></a><span class="sd">        input = {&#39;variables&#39;:{&#39;x&#39;:input_variable},&#39;types&#39;:{&#39;x&#39;:int}} or</span>
</span><span id="TypeDependency-169"><a href="#TypeDependency-169"><span class="linenos">169</span></a><span class="sd">        input = {&#39;variables&#39;:{&#39;x&#39;:input_variable},&#39;types&#39;:{&#39;x&#39;:(int,float)}}&quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,
number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the
 dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for</p>
</div>


                </section>
                <section id="VisaDependency">
                            <input id="VisaDependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">VisaDependency</span><wbr>(<span class="base"><a href="#Dependency">Dependency</a></span>):

                <label class="view-source-button" for="VisaDependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisaDependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisaDependency-171"><a href="#VisaDependency-171"><span class="linenos">171</span></a><span class="k">class</span> <span class="nc">VisaDependency</span><span class="p">(</span><span class="n">Dependency</span><span class="p">):</span>
</span><span id="VisaDependency-172"><a href="#VisaDependency-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;visa&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;visa_resource&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="VisaDependency-173"><a href="#VisaDependency-173"><span class="linenos">173</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="VisaDependency-174"><a href="#VisaDependency-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependency that checks if a visa resource responds with the right idn. The input should be of the form</span>
</span><span id="VisaDependency-175"><a href="#VisaDependency-175"><span class="linenos">175</span></a><span class="sd">        input = {&#39;resource_name&#39;:VISAResource,&#39;idn&#39;:ReturnedIDN}&quot;&quot;&quot;</span>
</span><span id="VisaDependency-176"><a href="#VisaDependency-176"><span class="linenos">176</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">VisaDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">TypeDependency</span><span class="p">,</span>
</span><span id="VisaDependency-177"><a href="#VisaDependency-177"><span class="linenos">177</span></a>                                            <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A dependency is simply a dictionary with the keys: type, input,on_fail, checker, duration,
number_repeats, repeat_until. The value of on_fail determines the behavior of the task when it fails the
 dependency check, the possible values are pass, repeat_n_times, repeat_until, repeat_for</p>
</div>


                            <div id="VisaDependency.__init__" class="classattr">
                                        <input id="VisaDependency.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">VisaDependency</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="nb">type</span><span class="o">=</span><span class="s1">&#39;visa&#39;</span>,</span><span class="param">	<span class="nb">input</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span>,</span><span class="param">	<span class="n">checker</span><span class="o">=</span><span class="s1">&#39;visa_resource&#39;</span>,</span><span class="param">	<span class="n">duration</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">number_repeats</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">repeat_time</span><span class="o">=</span><span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="VisaDependency.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#VisaDependency.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="VisaDependency.__init__-172"><a href="#VisaDependency.__init__-172"><span class="linenos">172</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">type</span> <span class="o">=</span> <span class="s1">&#39;visa&#39;</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;visa_resource&#39;</span><span class="p">,</span><span class="n">duration</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="VisaDependency.__init__-173"><a href="#VisaDependency.__init__-173"><span class="linenos">173</span></a>                 <span class="n">number_repeats</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
</span><span id="VisaDependency.__init__-174"><a href="#VisaDependency.__init__-174"><span class="linenos">174</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Dependency that checks if a visa resource responds with the right idn. The input should be of the form</span>
</span><span id="VisaDependency.__init__-175"><a href="#VisaDependency.__init__-175"><span class="linenos">175</span></a><span class="sd">        input = {&#39;resource_name&#39;:VISAResource,&#39;idn&#39;:ReturnedIDN}&quot;&quot;&quot;</span>
</span><span id="VisaDependency.__init__-176"><a href="#VisaDependency.__init__-176"><span class="linenos">176</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">VisaDependency</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">TypeDependency</span><span class="p">,</span>
</span><span id="VisaDependency.__init__-177"><a href="#VisaDependency.__init__-177"><span class="linenos">177</span></a>                                            <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="n">on_fail</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span><span class="n">checker</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Dependency that checks if a visa resource responds with the right idn. The input should be of the form
input = {'resource_name':VISAResource,'idn':ReturnedIDN}</p>
</div>


                            </div>
                </section>
                <section id="Task">
                            <input id="Task-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Task</span>:

                <label class="view-source-button" for="Task-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task-179"><a href="#Task-179"><span class="linenos">179</span></a><span class="k">class</span> <span class="nc">Task</span><span class="p">():</span>
</span><span id="Task-180"><a href="#Task-180"><span class="linenos">180</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;An abstract representation of a task to be completed&quot;&quot;&quot;</span>
</span><span id="Task-181"><a href="#Task-181"><span class="linenos">181</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="Task-182"><a href="#Task-182"><span class="linenos">182</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="Task-183"><a href="#Task-183"><span class="linenos">183</span></a>                    <span class="s2">&quot;auto_log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
</span><span id="Task-184"><a href="#Task-184"><span class="linenos">184</span></a>                    <span class="s2">&quot;log_serializer&quot;</span><span class="p">:</span><span class="n">YamlSerializer</span><span class="p">(),</span><span class="s2">&quot;log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
</span><span id="Task-185"><a href="#Task-185"><span class="linenos">185</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Task-186"><a href="#Task-186"><span class="linenos">186</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Task-187"><a href="#Task-187"><span class="linenos">187</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">value</span>
</span><span id="Task-188"><a href="#Task-188"><span class="linenos">188</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Task-189"><a href="#Task-189"><span class="linenos">189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Task-190"><a href="#Task-190"><span class="linenos">190</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="Task-191"><a href="#Task-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="Task-192"><a href="#Task-192"><span class="linenos">192</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Task-193"><a href="#Task-193"><span class="linenos">193</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="Task-194"><a href="#Task-194"><span class="linenos">194</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="Task-195"><a href="#Task-195"><span class="linenos">195</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task-196"><a href="#Task-196"><span class="linenos">196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">=</span><span class="p">[]</span>
</span><span id="Task-197"><a href="#Task-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task-198"><a href="#Task-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task-199"><a href="#Task-199"><span class="linenos">199</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task-200"><a href="#Task-200"><span class="linenos">200</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
</span><span id="Task-201"><a href="#Task-201"><span class="linenos">201</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-202"><a href="#Task-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">Log</span><span class="p">(</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="s2">&quot;log&quot;</span><span class="p">,</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extension</span><span class="p">),</span>
</span><span id="Task-203"><a href="#Task-203"><span class="linenos">203</span></a>                        <span class="n">auto_save</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;auto_log&quot;</span><span class="p">],</span><span class="n">serializer</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">])</span>
</span><span id="Task-204"><a href="#Task-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> was created.&quot;</span><span class="p">)</span>
</span><span id="Task-205"><a href="#Task-205"><span class="linenos">205</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task id is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Task-206"><a href="#Task-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task-207"><a href="#Task-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task-208"><a href="#Task-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task-209"><a href="#Task-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Task-210"><a href="#Task-210"><span class="linenos">210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="o">=</span><span class="mi">0</span>
</span><span id="Task-211"><a href="#Task-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_tries</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Task-212"><a href="#Task-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Task-213"><a href="#Task-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Task-214"><a href="#Task-214"><span class="linenos">214</span></a>
</span><span id="Task-215"><a href="#Task-215"><span class="linenos">215</span></a>    <span class="k">def</span> <span class="nf">count_task_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task-216"><a href="#Task-216"><span class="linenos">216</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Counts the depth of task dependencies&quot;&quot;&quot;</span>
</span><span id="Task-217"><a href="#Task-217"><span class="linenos">217</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Task-218"><a href="#Task-218"><span class="linenos">218</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Task-219"><a href="#Task-219"><span class="linenos">219</span></a>            <span class="n">new_task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;task&quot;</span><span class="p">]</span>
</span><span id="Task-220"><a href="#Task-220"><span class="linenos">220</span></a>            <span class="n">depth</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">new_task</span><span class="o">.</span><span class="n">depth</span>
</span><span id="Task-221"><a href="#Task-221"><span class="linenos">221</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="Task-222"><a href="#Task-222"><span class="linenos">222</span></a>            <span class="k">pass</span>
</span><span id="Task-223"><a href="#Task-223"><span class="linenos">223</span></a>        <span class="k">return</span> <span class="n">depth</span>
</span><span id="Task-224"><a href="#Task-224"><span class="linenos">224</span></a>
</span><span id="Task-225"><a href="#Task-225"><span class="linenos">225</span></a>    <span class="k">def</span> <span class="nf">add_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task-226"><a href="#Task-226"><span class="linenos">226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a dependency to the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="Task-227"><a href="#Task-227"><span class="linenos">227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task-228"><a href="#Task-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-229"><a href="#Task-229"><span class="linenos">229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Task-230"><a href="#Task-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Task-231"><a href="#Task-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">)</span>
</span><span id="Task-232"><a href="#Task-232"><span class="linenos">232</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
</span><span id="Task-233"><a href="#Task-233"><span class="linenos">233</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_task_depth</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-234"><a href="#Task-234"><span class="linenos">234</span></a>        <span class="k">if</span> <span class="n">depth</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">:</span>
</span><span id="Task-235"><a href="#Task-235"><span class="linenos">235</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
</span><span id="Task-236"><a href="#Task-236"><span class="linenos">236</span></a>        <span class="n">new_entry</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-237"><a href="#Task-237"><span class="linenos">237</span></a>        <span class="n">new_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> dependency was added.&quot;</span>
</span><span id="Task-238"><a href="#Task-238"><span class="linenos">238</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-239"><a href="#Task-239"><span class="linenos">239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">new_entry</span><span class="p">)</span>
</span><span id="Task-240"><a href="#Task-240"><span class="linenos">240</span></a>
</span><span id="Task-241"><a href="#Task-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="nf">remove_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task-242"><a href="#Task-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a dependency in the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="Task-243"><a href="#Task-243"><span class="linenos">243</span></a>        <span class="n">remove_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-244"><a href="#Task-244"><span class="linenos">244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task-245"><a href="#Task-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task-246"><a href="#Task-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task-247"><a href="#Task-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task-248"><a href="#Task-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task-249"><a href="#Task-249"><span class="linenos">249</span></a>
</span><span id="Task-250"><a href="#Task-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task-251"><a href="#Task-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Causes the task to run&quot;&quot;&quot;</span>
</span><span id="Task-252"><a href="#Task-252"><span class="linenos">252</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Task-253"><a href="#Task-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task-254"><a href="#Task-254"><span class="linenos">254</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span>  <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task-255"><a href="#Task-255"><span class="linenos">255</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Task-256"><a href="#Task-256"><span class="linenos">256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Task-257"><a href="#Task-257"><span class="linenos">257</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="Task-258"><a href="#Task-258"><span class="linenos">258</span></a>
</span><span id="Task-259"><a href="#Task-259"><span class="linenos">259</span></a>    <span class="k">def</span> <span class="nf">get_task_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task-260"><a href="#Task-260"><span class="linenos">260</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current run time for the task&quot;&quot;&quot;</span>
</span><span id="Task-261"><a href="#Task-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task-262"><a href="#Task-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="Task-263"><a href="#Task-263"><span class="linenos">263</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span>
</span><span id="Task-264"><a href="#Task-264"><span class="linenos">264</span></a>
</span><span id="Task-265"><a href="#Task-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">throw_dependency_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task-266"><a href="#Task-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Raises the dependency error&quot;&quot;&quot;</span>
</span><span id="Task-267"><a href="#Task-267"><span class="linenos">267</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> failed at the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Task-268"><a href="#Task-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-269"><a href="#Task-269"><span class="linenos">269</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-270"><a href="#Task-270"><span class="linenos">270</span></a>        <span class="k">raise</span> <span class="n">DependencyError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-271"><a href="#Task-271"><span class="linenos">271</span></a>
</span><span id="Task-272"><a href="#Task-272"><span class="linenos">272</span></a>    <span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">exception</span><span class="p">):</span>
</span><span id="Task-273"><a href="#Task-273"><span class="linenos">273</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Function that executes on an error in the execution of the task&quot;&quot;&quot;</span>
</span><span id="Task-274"><a href="#Task-274"><span class="linenos">274</span></a>        <span class="k">raise</span> <span class="n">exception</span>
</span><span id="Task-275"><a href="#Task-275"><span class="linenos">275</span></a>
</span><span id="Task-276"><a href="#Task-276"><span class="linenos">276</span></a>    <span class="k">def</span> <span class="nf">check_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task-277"><a href="#Task-277"><span class="linenos">277</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates through the list self.dependencies and checks if they are satisfied&quot;&quot;&quot;</span>
</span><span id="Task-278"><a href="#Task-278"><span class="linenos">278</span></a>        <span class="k">for</span> <span class="n">dependency_index</span><span class="p">,</span><span class="n">dependency</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">):</span>
</span><span id="Task-279"><a href="#Task-279"><span class="linenos">279</span></a>            <span class="c1"># is there a cleaner way of doing this?</span>
</span><span id="Task-280"><a href="#Task-280"><span class="linenos">280</span></a>            <span class="n">dependency_met</span><span class="o">=</span><span class="nb">globals</span><span class="p">()[</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;checker&quot;</span><span class="p">]](</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-281"><a href="#Task-281"><span class="linenos">281</span></a>            <span class="k">if</span> <span class="n">dependency_met</span><span class="p">:</span>
</span><span id="Task-282"><a href="#Task-282"><span class="linenos">282</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> met the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Task-283"><a href="#Task-283"><span class="linenos">283</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-284"><a href="#Task-284"><span class="linenos">284</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-285"><a href="#Task-285"><span class="linenos">285</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task-286"><a href="#Task-286"><span class="linenos">286</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Task-287"><a href="#Task-287"><span class="linenos">287</span></a>                <span class="n">action</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;on_fail&quot;</span><span class="p">]</span>
</span><span id="Task-288"><a href="#Task-288"><span class="linenos">288</span></a>                <span class="c1"># switch statement to handle a dependency check failure</span>
</span><span id="Task-289"><a href="#Task-289"><span class="linenos">289</span></a>                <span class="k">if</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pass&quot;</span><span class="p">,</span><span class="s2">&quot;retry&quot;</span><span class="p">]:</span>
</span><span id="Task-290"><a href="#Task-290"><span class="linenos">290</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and is passing&quot;</span>
</span><span id="Task-291"><a href="#Task-291"><span class="linenos">291</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-292"><a href="#Task-292"><span class="linenos">292</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-293"><a href="#Task-293"><span class="linenos">293</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task-294"><a href="#Task-294"><span class="linenos">294</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-295"><a href="#Task-295"><span class="linenos">295</span></a>
</span><span id="Task-296"><a href="#Task-296"><span class="linenos">296</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]:</span>
</span><span id="Task-297"><a href="#Task-297"><span class="linenos">297</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-298"><a href="#Task-298"><span class="linenos">298</span></a>
</span><span id="Task-299"><a href="#Task-299"><span class="linenos">299</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_until&quot;</span><span class="p">]:</span>
</span><span id="Task-300"><a href="#Task-300"><span class="linenos">300</span></a>                    <span class="c1"># the time handler</span>
</span><span id="Task-301"><a href="#Task-301"><span class="linenos">301</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The dependency is </span><span class="si">{</span><span class="n">dependency</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Task-302"><a href="#Task-302"><span class="linenos">302</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)[</span><span class="s2">&quot;repeat_time&quot;</span><span class="p">]</span>
</span><span id="Task-303"><a href="#Task-303"><span class="linenos">303</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task-304"><a href="#Task-304"><span class="linenos">304</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span>
</span><span id="Task-305"><a href="#Task-305"><span class="linenos">305</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;self.timer is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s1"> and repeat time is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="w"> </span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Task-306"><a href="#Task-306"><span class="linenos">306</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">&lt;</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="p">:</span>
</span><span id="Task-307"><a href="#Task-307"><span class="linenos">307</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s2"> </span>
</span><span id="Task-308"><a href="#Task-308"><span class="linenos">308</span></a><span class="s2">                               and is repeating until </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;repeat_time&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Task-309"><a href="#Task-309"><span class="linenos">309</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-310"><a href="#Task-310"><span class="linenos">310</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-311"><a href="#Task-311"><span class="linenos">311</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task-312"><a href="#Task-312"><span class="linenos">312</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-313"><a href="#Task-313"><span class="linenos">313</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task-314"><a href="#Task-314"><span class="linenos">314</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-315"><a href="#Task-315"><span class="linenos">315</span></a>
</span><span id="Task-316"><a href="#Task-316"><span class="linenos">316</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_n_times&quot;</span><span class="p">]:</span>
</span><span id="Task-317"><a href="#Task-317"><span class="linenos">317</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
</span><span id="Task-318"><a href="#Task-318"><span class="linenos">318</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.dependency repeats is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Task-319"><a href="#Task-319"><span class="linenos">319</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]:</span>
</span><span id="Task-320"><a href="#Task-320"><span class="linenos">320</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="Task-321"><a href="#Task-321"><span class="linenos">321</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> for the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="si">}</span><span class="s2"> time</span>
</span><span id="Task-322"><a href="#Task-322"><span class="linenos">322</span></a><span class="s2">                                    and is repeating </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> times&quot;&quot;&quot;</span>
</span><span id="Task-323"><a href="#Task-323"><span class="linenos">323</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-324"><a href="#Task-324"><span class="linenos">324</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-325"><a href="#Task-325"><span class="linenos">325</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task-326"><a href="#Task-326"><span class="linenos">326</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-327"><a href="#Task-327"><span class="linenos">327</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task-328"><a href="#Task-328"><span class="linenos">328</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task-329"><a href="#Task-329"><span class="linenos">329</span></a>
</span><span id="Task-330"><a href="#Task-330"><span class="linenos">330</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_for&quot;</span><span class="p">]:</span>
</span><span id="Task-331"><a href="#Task-331"><span class="linenos">331</span></a>                    <span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task-332"><a href="#Task-332"><span class="linenos">332</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">=</span><span class="n">duration</span>
</span><span id="Task-333"><a href="#Task-333"><span class="linenos">333</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="n">duration</span><span class="p">:</span>
</span><span id="Task-334"><a href="#Task-334"><span class="linenos">334</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="Task-335"><a href="#Task-335"><span class="linenos">335</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and has been running </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s2"> which is less than the allotted </span>
</span><span id="Task-336"><a href="#Task-336"><span class="linenos">336</span></a><span class="s2">                                    duration of </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Task-337"><a href="#Task-337"><span class="linenos">337</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task-338"><a href="#Task-338"><span class="linenos">338</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-339"><a href="#Task-339"><span class="linenos">339</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task-340"><a href="#Task-340"><span class="linenos">340</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task-341"><a href="#Task-341"><span class="linenos">341</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task-342"><a href="#Task-342"><span class="linenos">342</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An abstract representation of a task to be completed</p>
</div>


                            <div id="Task.__init__" class="classattr">
                                        <input id="Task.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">Task</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="Task.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.__init__-181"><a href="#Task.__init__-181"><span class="linenos">181</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="Task.__init__-182"><a href="#Task.__init__-182"><span class="linenos">182</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">),</span>
</span><span id="Task.__init__-183"><a href="#Task.__init__-183"><span class="linenos">183</span></a>                    <span class="s2">&quot;auto_log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span>
</span><span id="Task.__init__-184"><a href="#Task.__init__-184"><span class="linenos">184</span></a>                    <span class="s2">&quot;log_serializer&quot;</span><span class="p">:</span><span class="n">YamlSerializer</span><span class="p">(),</span><span class="s2">&quot;log&quot;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
</span><span id="Task.__init__-185"><a href="#Task.__init__-185"><span class="linenos">185</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="Task.__init__-186"><a href="#Task.__init__-186"><span class="linenos">186</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Task.__init__-187"><a href="#Task.__init__-187"><span class="linenos">187</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">=</span><span class="n">value</span>
</span><span id="Task.__init__-188"><a href="#Task.__init__-188"><span class="linenos">188</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="Task.__init__-189"><a href="#Task.__init__-189"><span class="linenos">189</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="Task.__init__-190"><a href="#Task.__init__-190"><span class="linenos">190</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="Task.__init__-191"><a href="#Task.__init__-191"><span class="linenos">191</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="Task.__init__-192"><a href="#Task.__init__-192"><span class="linenos">192</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="Task.__init__-193"><a href="#Task.__init__-193"><span class="linenos">193</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">path</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="Task.__init__-194"><a href="#Task.__init__-194"><span class="linenos">194</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
</span><span id="Task.__init__-195"><a href="#Task.__init__-195"><span class="linenos">195</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task.__init__-196"><a href="#Task.__init__-196"><span class="linenos">196</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">=</span><span class="p">[]</span>
</span><span id="Task.__init__-197"><a href="#Task.__init__-197"><span class="linenos">197</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task.__init__-198"><a href="#Task.__init__-198"><span class="linenos">198</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task.__init__-199"><a href="#Task.__init__-199"><span class="linenos">199</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="Task.__init__-200"><a href="#Task.__init__-200"><span class="linenos">200</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span>
</span><span id="Task.__init__-201"><a href="#Task.__init__-201"><span class="linenos">201</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.__init__-202"><a href="#Task.__init__-202"><span class="linenos">202</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">Log</span><span class="p">(</span><span class="n">file_path</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span><span class="s2">&quot;log&quot;</span><span class="p">,</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">extension</span><span class="p">),</span>
</span><span id="Task.__init__-203"><a href="#Task.__init__-203"><span class="linenos">203</span></a>                        <span class="n">auto_save</span> <span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;auto_log&quot;</span><span class="p">],</span><span class="n">serializer</span>  <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log_serializer&quot;</span><span class="p">])</span>
</span><span id="Task.__init__-204"><a href="#Task.__init__-204"><span class="linenos">204</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> was created.&quot;</span><span class="p">)</span>
</span><span id="Task.__init__-205"><a href="#Task.__init__-205"><span class="linenos">205</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task id is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Task.__init__-206"><a href="#Task.__init__-206"><span class="linenos">206</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task.__init__-207"><a href="#Task.__init__-207"><span class="linenos">207</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task.__init__-208"><a href="#Task.__init__-208"><span class="linenos">208</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task.__init__-209"><a href="#Task.__init__-209"><span class="linenos">209</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">False</span>
</span><span id="Task.__init__-210"><a href="#Task.__init__-210"><span class="linenos">210</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">retries</span><span class="o">=</span><span class="mi">0</span>
</span><span id="Task.__init__-211"><a href="#Task.__init__-211"><span class="linenos">211</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">max_tries</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="Task.__init__-212"><a href="#Task.__init__-212"><span class="linenos">212</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Task.__init__-213"><a href="#Task.__init__-213"><span class="linenos">213</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


    

                            </div>
                            <div id="Task.task_options" class="classattr">
                                <div class="attr variable">
            <span class="name">task_options</span>

        
    </div>
    <a class="headerlink" href="#Task.task_options"></a>
    
    

                            </div>
                            <div id="Task.name" class="classattr">
                                <div class="attr variable">
            <span class="name">name</span>

        
    </div>
    <a class="headerlink" href="#Task.name"></a>
    
    

                            </div>
                            <div id="Task.dependencies" class="classattr">
                                <div class="attr variable">
            <span class="name">dependencies</span>

        
    </div>
    <a class="headerlink" href="#Task.dependencies"></a>
    
    

                            </div>
                            <div id="Task.met_dependencies" class="classattr">
                                <div class="attr variable">
            <span class="name">met_dependencies</span>

        
    </div>
    <a class="headerlink" href="#Task.met_dependencies"></a>
    
    

                            </div>
                            <div id="Task.dependency_repeats" class="classattr">
                                <div class="attr variable">
            <span class="name">dependency_repeats</span>

        
    </div>
    <a class="headerlink" href="#Task.dependency_repeats"></a>
    
    

                            </div>
                            <div id="Task.dependency_times" class="classattr">
                                <div class="attr variable">
            <span class="name">dependency_times</span>

        
    </div>
    <a class="headerlink" href="#Task.dependency_times"></a>
    
    

                            </div>
                            <div id="Task.dependency_durations" class="classattr">
                                <div class="attr variable">
            <span class="name">dependency_durations</span>

        
    </div>
    <a class="headerlink" href="#Task.dependency_durations"></a>
    
    

                            </div>
                            <div id="Task.id" class="classattr">
                                <div class="attr variable">
            <span class="name">id</span>

        
    </div>
    <a class="headerlink" href="#Task.id"></a>
    
    

                            </div>
                            <div id="Task.start_time" class="classattr">
                                <div class="attr variable">
            <span class="name">start_time</span>

        
    </div>
    <a class="headerlink" href="#Task.start_time"></a>
    
    

                            </div>
                            <div id="Task.timer" class="classattr">
                                <div class="attr variable">
            <span class="name">timer</span>

        
    </div>
    <a class="headerlink" href="#Task.timer"></a>
    
    

                            </div>
                            <div id="Task.completed" class="classattr">
                                <div class="attr variable">
            <span class="name">completed</span>

        
    </div>
    <a class="headerlink" href="#Task.completed"></a>
    
    

                            </div>
                            <div id="Task.retries" class="classattr">
                                <div class="attr variable">
            <span class="name">retries</span>

        
    </div>
    <a class="headerlink" href="#Task.retries"></a>
    
    

                            </div>
                            <div id="Task.max_tries" class="classattr">
                                <div class="attr variable">
            <span class="name">max_tries</span>

        
    </div>
    <a class="headerlink" href="#Task.max_tries"></a>
    
    

                            </div>
                            <div id="Task.depth" class="classattr">
                                <div class="attr variable">
            <span class="name">depth</span>

        
    </div>
    <a class="headerlink" href="#Task.depth"></a>
    
    

                            </div>
                            <div id="Task.started" class="classattr">
                                <div class="attr variable">
            <span class="name">started</span>

        
    </div>
    <a class="headerlink" href="#Task.started"></a>
    
    

                            </div>
                            <div id="Task.count_task_depth" class="classattr">
                                        <input id="Task.count_task_depth-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">count_task_depth</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.count_task_depth-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.count_task_depth"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.count_task_depth-215"><a href="#Task.count_task_depth-215"><span class="linenos">215</span></a>    <span class="k">def</span> <span class="nf">count_task_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task.count_task_depth-216"><a href="#Task.count_task_depth-216"><span class="linenos">216</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Counts the depth of task dependencies&quot;&quot;&quot;</span>
</span><span id="Task.count_task_depth-217"><a href="#Task.count_task_depth-217"><span class="linenos">217</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="Task.count_task_depth-218"><a href="#Task.count_task_depth-218"><span class="linenos">218</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Task.count_task_depth-219"><a href="#Task.count_task_depth-219"><span class="linenos">219</span></a>            <span class="n">new_task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;input&quot;</span><span class="p">][</span><span class="s2">&quot;task&quot;</span><span class="p">]</span>
</span><span id="Task.count_task_depth-220"><a href="#Task.count_task_depth-220"><span class="linenos">220</span></a>            <span class="n">depth</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">new_task</span><span class="o">.</span><span class="n">depth</span>
</span><span id="Task.count_task_depth-221"><a href="#Task.count_task_depth-221"><span class="linenos">221</span></a>        <span class="k">except</span><span class="p">:</span>
</span><span id="Task.count_task_depth-222"><a href="#Task.count_task_depth-222"><span class="linenos">222</span></a>            <span class="k">pass</span>
</span><span id="Task.count_task_depth-223"><a href="#Task.count_task_depth-223"><span class="linenos">223</span></a>        <span class="k">return</span> <span class="n">depth</span>
</span></pre></div>


            <div class="docstring"><p>Counts the depth of task dependencies</p>
</div>


                            </div>
                            <div id="Task.add_dependency" class="classattr">
                                        <input id="Task.add_dependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">add_dependency</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.add_dependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.add_dependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.add_dependency-225"><a href="#Task.add_dependency-225"><span class="linenos">225</span></a>    <span class="k">def</span> <span class="nf">add_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task.add_dependency-226"><a href="#Task.add_dependency-226"><span class="linenos">226</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Adds a dependency to the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="Task.add_dependency-227"><a href="#Task.add_dependency-227"><span class="linenos">227</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task.add_dependency-228"><a href="#Task.add_dependency-228"><span class="linenos">228</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.add_dependency-229"><a href="#Task.add_dependency-229"><span class="linenos">229</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</span><span id="Task.add_dependency-230"><a href="#Task.add_dependency-230"><span class="linenos">230</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="Task.add_dependency-231"><a href="#Task.add_dependency-231"><span class="linenos">231</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="p">)</span>
</span><span id="Task.add_dependency-232"><a href="#Task.add_dependency-232"><span class="linenos">232</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">duration</span><span class="p">)</span>
</span><span id="Task.add_dependency-233"><a href="#Task.add_dependency-233"><span class="linenos">233</span></a>        <span class="n">depth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">count_task_depth</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.add_dependency-234"><a href="#Task.add_dependency-234"><span class="linenos">234</span></a>        <span class="k">if</span> <span class="n">depth</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">depth</span><span class="p">:</span>
</span><span id="Task.add_dependency-235"><a href="#Task.add_dependency-235"><span class="linenos">235</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">=</span> <span class="n">depth</span>
</span><span id="Task.add_dependency-236"><a href="#Task.add_dependency-236"><span class="linenos">236</span></a>        <span class="n">new_entry</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.add_dependency-237"><a href="#Task.add_dependency-237"><span class="linenos">237</span></a>        <span class="n">new_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;A </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> dependency was added.&quot;</span>
</span><span id="Task.add_dependency-238"><a href="#Task.add_dependency-238"><span class="linenos">238</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.add_dependency-239"><a href="#Task.add_dependency-239"><span class="linenos">239</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">new_entry</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Adds a dependency to the list <a href="#Task.dependencies">Task.dependencies</a></p>
</div>


                            </div>
                            <div id="Task.remove_dependency" class="classattr">
                                        <input id="Task.remove_dependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">remove_dependency</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.remove_dependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.remove_dependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.remove_dependency-241"><a href="#Task.remove_dependency-241"><span class="linenos">241</span></a>    <span class="k">def</span> <span class="nf">remove_dependency</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task.remove_dependency-242"><a href="#Task.remove_dependency-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Removes a dependency in the list Task.dependencies&quot;&quot;&quot;</span>
</span><span id="Task.remove_dependency-243"><a href="#Task.remove_dependency-243"><span class="linenos">243</span></a>        <span class="n">remove_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.remove_dependency-244"><a href="#Task.remove_dependency-244"><span class="linenos">244</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task.remove_dependency-245"><a href="#Task.remove_dependency-245"><span class="linenos">245</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task.remove_dependency-246"><a href="#Task.remove_dependency-246"><span class="linenos">246</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task.remove_dependency-247"><a href="#Task.remove_dependency-247"><span class="linenos">247</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span><span id="Task.remove_dependency-248"><a href="#Task.remove_dependency-248"><span class="linenos">248</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">remove_index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Removes a dependency in the list <a href="#Task.dependencies">Task.dependencies</a></p>
</div>


                            </div>
                            <div id="Task.execute" class="classattr">
                                        <input id="Task.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.execute-250"><a href="#Task.execute-250"><span class="linenos">250</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task.execute-251"><a href="#Task.execute-251"><span class="linenos">251</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Causes the task to run&quot;&quot;&quot;</span>
</span><span id="Task.execute-252"><a href="#Task.execute-252"><span class="linenos">252</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="Task.execute-253"><a href="#Task.execute-253"><span class="linenos">253</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task.execute-254"><a href="#Task.execute-254"><span class="linenos">254</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span>  <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task.execute-255"><a href="#Task.execute-255"><span class="linenos">255</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="Task.execute-256"><a href="#Task.execute-256"><span class="linenos">256</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">retries</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="Task.execute-257"><a href="#Task.execute-257"><span class="linenos">257</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div id="Task.get_task_duration" class="classattr">
                                        <input id="Task.get_task_duration-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_task_duration</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.get_task_duration-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.get_task_duration"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.get_task_duration-259"><a href="#Task.get_task_duration-259"><span class="linenos">259</span></a>    <span class="k">def</span> <span class="nf">get_task_duration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task.get_task_duration-260"><a href="#Task.get_task_duration-260"><span class="linenos">260</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns the current run time for the task&quot;&quot;&quot;</span>
</span><span id="Task.get_task_duration-261"><a href="#Task.get_task_duration-261"><span class="linenos">261</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="Task.get_task_duration-262"><a href="#Task.get_task_duration-262"><span class="linenos">262</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
</span><span id="Task.get_task_duration-263"><a href="#Task.get_task_duration-263"><span class="linenos">263</span></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration</span>
</span></pre></div>


            <div class="docstring"><p>Returns the current run time for the task</p>
</div>


                            </div>
                            <div id="Task.throw_dependency_error" class="classattr">
                                        <input id="Task.throw_dependency_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">throw_dependency_error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">dependency</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.throw_dependency_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.throw_dependency_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.throw_dependency_error-265"><a href="#Task.throw_dependency_error-265"><span class="linenos">265</span></a>    <span class="k">def</span> <span class="nf">throw_dependency_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dependency</span><span class="p">):</span>
</span><span id="Task.throw_dependency_error-266"><a href="#Task.throw_dependency_error-266"><span class="linenos">266</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Raises the dependency error&quot;&quot;&quot;</span>
</span><span id="Task.throw_dependency_error-267"><a href="#Task.throw_dependency_error-267"><span class="linenos">267</span></a>        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> failed at the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Task.throw_dependency_error-268"><a href="#Task.throw_dependency_error-268"><span class="linenos">268</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.throw_dependency_error-269"><a href="#Task.throw_dependency_error-269"><span class="linenos">269</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.throw_dependency_error-270"><a href="#Task.throw_dependency_error-270"><span class="linenos">270</span></a>        <span class="k">raise</span> <span class="n">DependencyError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Raises the dependency error</p>
</div>


                            </div>
                            <div id="Task.on_error" class="classattr">
                                        <input id="Task.on_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">exception</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.on_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.on_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.on_error-272"><a href="#Task.on_error-272"><span class="linenos">272</span></a>    <span class="k">def</span> <span class="nf">on_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">exception</span><span class="p">):</span>
</span><span id="Task.on_error-273"><a href="#Task.on_error-273"><span class="linenos">273</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Function that executes on an error in the execution of the task&quot;&quot;&quot;</span>
</span><span id="Task.on_error-274"><a href="#Task.on_error-274"><span class="linenos">274</span></a>        <span class="k">raise</span> <span class="n">exception</span>
</span></pre></div>


            <div class="docstring"><p>Function that executes on an error in the execution of the task</p>
</div>


                            </div>
                            <div id="Task.check_dependencies" class="classattr">
                                        <input id="Task.check_dependencies-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">check_dependencies</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="Task.check_dependencies-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#Task.check_dependencies"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="Task.check_dependencies-276"><a href="#Task.check_dependencies-276"><span class="linenos">276</span></a>    <span class="k">def</span> <span class="nf">check_dependencies</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="Task.check_dependencies-277"><a href="#Task.check_dependencies-277"><span class="linenos">277</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Iterates through the list self.dependencies and checks if they are satisfied&quot;&quot;&quot;</span>
</span><span id="Task.check_dependencies-278"><a href="#Task.check_dependencies-278"><span class="linenos">278</span></a>        <span class="k">for</span> <span class="n">dependency_index</span><span class="p">,</span><span class="n">dependency</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">):</span>
</span><span id="Task.check_dependencies-279"><a href="#Task.check_dependencies-279"><span class="linenos">279</span></a>            <span class="c1"># is there a cleaner way of doing this?</span>
</span><span id="Task.check_dependencies-280"><a href="#Task.check_dependencies-280"><span class="linenos">280</span></a>            <span class="n">dependency_met</span><span class="o">=</span><span class="nb">globals</span><span class="p">()[</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;checker&quot;</span><span class="p">]](</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.check_dependencies-281"><a href="#Task.check_dependencies-281"><span class="linenos">281</span></a>            <span class="k">if</span> <span class="n">dependency_met</span><span class="p">:</span>
</span><span id="Task.check_dependencies-282"><a href="#Task.check_dependencies-282"><span class="linenos">282</span></a>                <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> met the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="Task.check_dependencies-283"><a href="#Task.check_dependencies-283"><span class="linenos">283</span></a>                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-284"><a href="#Task.check_dependencies-284"><span class="linenos">284</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-285"><a href="#Task.check_dependencies-285"><span class="linenos">285</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">met_dependencies</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="Task.check_dependencies-286"><a href="#Task.check_dependencies-286"><span class="linenos">286</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-287"><a href="#Task.check_dependencies-287"><span class="linenos">287</span></a>                <span class="n">action</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;on_fail&quot;</span><span class="p">]</span>
</span><span id="Task.check_dependencies-288"><a href="#Task.check_dependencies-288"><span class="linenos">288</span></a>                <span class="c1"># switch statement to handle a dependency check failure</span>
</span><span id="Task.check_dependencies-289"><a href="#Task.check_dependencies-289"><span class="linenos">289</span></a>                <span class="k">if</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pass&quot;</span><span class="p">,</span><span class="s2">&quot;retry&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-290"><a href="#Task.check_dependencies-290"><span class="linenos">290</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and is passing&quot;</span>
</span><span id="Task.check_dependencies-291"><a href="#Task.check_dependencies-291"><span class="linenos">291</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-292"><a href="#Task.check_dependencies-292"><span class="linenos">292</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-293"><a href="#Task.check_dependencies-293"><span class="linenos">293</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-294"><a href="#Task.check_dependencies-294"><span class="linenos">294</span></a>                        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-295"><a href="#Task.check_dependencies-295"><span class="linenos">295</span></a>
</span><span id="Task.check_dependencies-296"><a href="#Task.check_dependencies-296"><span class="linenos">296</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-297"><a href="#Task.check_dependencies-297"><span class="linenos">297</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.check_dependencies-298"><a href="#Task.check_dependencies-298"><span class="linenos">298</span></a>
</span><span id="Task.check_dependencies-299"><a href="#Task.check_dependencies-299"><span class="linenos">299</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_until&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-300"><a href="#Task.check_dependencies-300"><span class="linenos">300</span></a>                    <span class="c1"># the time handler</span>
</span><span id="Task.check_dependencies-301"><a href="#Task.check_dependencies-301"><span class="linenos">301</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The dependency is </span><span class="si">{</span><span class="n">dependency</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Task.check_dependencies-302"><a href="#Task.check_dependencies-302"><span class="linenos">302</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">dependency</span><span class="p">)[</span><span class="s2">&quot;repeat_time&quot;</span><span class="p">]</span>
</span><span id="Task.check_dependencies-303"><a href="#Task.check_dependencies-303"><span class="linenos">303</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task.check_dependencies-304"><a href="#Task.check_dependencies-304"><span class="linenos">304</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_times</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span>
</span><span id="Task.check_dependencies-305"><a href="#Task.check_dependencies-305"><span class="linenos">305</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;self.timer is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s1"> and repeat time is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="w"> </span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</span><span id="Task.check_dependencies-306"><a href="#Task.check_dependencies-306"><span class="linenos">306</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">&lt;</span><span class="bp">self</span><span class="o">.</span><span class="n">current_dependency_repeat_time</span><span class="p">:</span>
</span><span id="Task.check_dependencies-307"><a href="#Task.check_dependencies-307"><span class="linenos">307</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> at </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="si">}</span><span class="s2"> </span>
</span><span id="Task.check_dependencies-308"><a href="#Task.check_dependencies-308"><span class="linenos">308</span></a><span class="s2">                               and is repeating until </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;repeat_time&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Task.check_dependencies-309"><a href="#Task.check_dependencies-309"><span class="linenos">309</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-310"><a href="#Task.check_dependencies-310"><span class="linenos">310</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-311"><a href="#Task.check_dependencies-311"><span class="linenos">311</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-312"><a href="#Task.check_dependencies-312"><span class="linenos">312</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-313"><a href="#Task.check_dependencies-313"><span class="linenos">313</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-314"><a href="#Task.check_dependencies-314"><span class="linenos">314</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.check_dependencies-315"><a href="#Task.check_dependencies-315"><span class="linenos">315</span></a>
</span><span id="Task.check_dependencies-316"><a href="#Task.check_dependencies-316"><span class="linenos">316</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_n_times&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-317"><a href="#Task.check_dependencies-317"><span class="linenos">317</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">+=</span><span class="mi">1</span>
</span><span id="Task.check_dependencies-318"><a href="#Task.check_dependencies-318"><span class="linenos">318</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.dependency repeats is </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="Task.check_dependencies-319"><a href="#Task.check_dependencies-319"><span class="linenos">319</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-320"><a href="#Task.check_dependencies-320"><span class="linenos">320</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="Task.check_dependencies-321"><a href="#Task.check_dependencies-321"><span class="linenos">321</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> for the </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="si">}</span><span class="s2"> time</span>
</span><span id="Task.check_dependencies-322"><a href="#Task.check_dependencies-322"><span class="linenos">322</span></a><span class="s2">                                    and is repeating </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;number_repeats&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> times&quot;&quot;&quot;</span>
</span><span id="Task.check_dependencies-323"><a href="#Task.check_dependencies-323"><span class="linenos">323</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-324"><a href="#Task.check_dependencies-324"><span class="linenos">324</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-325"><a href="#Task.check_dependencies-325"><span class="linenos">325</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-326"><a href="#Task.check_dependencies-326"><span class="linenos">326</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-327"><a href="#Task.check_dependencies-327"><span class="linenos">327</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-328"><a href="#Task.check_dependencies-328"><span class="linenos">328</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="Task.check_dependencies-329"><a href="#Task.check_dependencies-329"><span class="linenos">329</span></a>
</span><span id="Task.check_dependencies-330"><a href="#Task.check_dependencies-330"><span class="linenos">330</span></a>                <span class="k">elif</span> <span class="n">action</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;repeat_for&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-331"><a href="#Task.check_dependencies-331"><span class="linenos">331</span></a>                    <span class="n">duration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_task_duration</span><span class="p">()</span>
</span><span id="Task.check_dependencies-332"><a href="#Task.check_dependencies-332"><span class="linenos">332</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">dependency_durations</span><span class="p">[</span><span class="n">dependency_index</span><span class="p">]</span><span class="o">=</span><span class="n">duration</span>
</span><span id="Task.check_dependencies-333"><a href="#Task.check_dependencies-333"><span class="linenos">333</span></a>                    <span class="k">if</span> <span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="n">duration</span><span class="p">:</span>
</span><span id="Task.check_dependencies-334"><a href="#Task.check_dependencies-334"><span class="linenos">334</span></a>                        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;The task </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> did not meet the dependency </span>
</span><span id="Task.check_dependencies-335"><a href="#Task.check_dependencies-335"><span class="linenos">335</span></a><span class="s2">                                    </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> and has been running </span><span class="si">{</span><span class="n">duration</span><span class="si">}</span><span class="s2"> which is less than the allotted </span>
</span><span id="Task.check_dependencies-336"><a href="#Task.check_dependencies-336"><span class="linenos">336</span></a><span class="s2">                                    duration of </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s2">&quot;duration&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;&quot;&quot;</span>
</span><span id="Task.check_dependencies-337"><a href="#Task.check_dependencies-337"><span class="linenos">337</span></a>                        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="Task.check_dependencies-338"><a href="#Task.check_dependencies-338"><span class="linenos">338</span></a>                            <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-339"><a href="#Task.check_dependencies-339"><span class="linenos">339</span></a>                        <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-340"><a href="#Task.check_dependencies-340"><span class="linenos">340</span></a>                            <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</span><span id="Task.check_dependencies-341"><a href="#Task.check_dependencies-341"><span class="linenos">341</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="Task.check_dependencies-342"><a href="#Task.check_dependencies-342"><span class="linenos">342</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">throw_dependency_error</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Iterates through the list self.dependencies and checks if they are satisfied</p>
</div>


                            </div>
                </section>
                <section id="FunctionTask">
                            <input id="FunctionTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FunctionTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="FunctionTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionTask-345"><a href="#FunctionTask-345"><span class="linenos">345</span></a><span class="k">class</span> <span class="nc">FunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="FunctionTask-346"><a href="#FunctionTask-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">function</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="FunctionTask-347"><a href="#FunctionTask-347"><span class="linenos">347</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="FunctionTask-348"><a href="#FunctionTask-348"><span class="linenos">348</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="FunctionTask-349"><a href="#FunctionTask-349"><span class="linenos">349</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="FunctionTask-350"><a href="#FunctionTask-350"><span class="linenos">350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="FunctionTask-351"><a href="#FunctionTask-351"><span class="linenos">351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="FunctionTask-352"><a href="#FunctionTask-352"><span class="linenos">352</span></a>
</span><span id="FunctionTask-353"><a href="#FunctionTask-353"><span class="linenos">353</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="FunctionTask-354"><a href="#FunctionTask-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
</span><span id="FunctionTask-355"><a href="#FunctionTask-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="FunctionTask-356"><a href="#FunctionTask-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="FunctionTask-357"><a href="#FunctionTask-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="FunctionTask-358"><a href="#FunctionTask-358"><span class="linenos">358</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionTask-359"><a href="#FunctionTask-359"><span class="linenos">359</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionTask-360"><a href="#FunctionTask-360"><span class="linenos">360</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="FunctionTask-361"><a href="#FunctionTask-361"><span class="linenos">361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionTask-362"><a href="#FunctionTask-362"><span class="linenos">362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="FunctionTask-363"><a href="#FunctionTask-363"><span class="linenos">363</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionTask-364"><a href="#FunctionTask-364"><span class="linenos">364</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="FunctionTask-365"><a href="#FunctionTask-365"><span class="linenos">365</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionTask-366"><a href="#FunctionTask-366"><span class="linenos">366</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="FunctionTask-367"><a href="#FunctionTask-367"><span class="linenos">367</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionTask-368"><a href="#FunctionTask-368"><span class="linenos">368</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="FunctionTask-369"><a href="#FunctionTask-369"><span class="linenos">369</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="FunctionTask-370"><a href="#FunctionTask-370"><span class="linenos">370</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An abstract representation of a task to be completed</p>
</div>


                            <div id="FunctionTask.__init__" class="classattr">
                                        <input id="FunctionTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">FunctionTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">function</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">args</span><span class="o">=</span><span class="p">[]</span>, </span><span class="param"><span class="n">kwargs</span><span class="o">=</span><span class="p">{}</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="FunctionTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionTask.__init__-346"><a href="#FunctionTask.__init__-346"><span class="linenos">346</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">function</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="FunctionTask.__init__-347"><a href="#FunctionTask.__init__-347"><span class="linenos">347</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="FunctionTask.__init__-348"><a href="#FunctionTask.__init__-348"><span class="linenos">348</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="FunctionTask.__init__-349"><a href="#FunctionTask.__init__-349"><span class="linenos">349</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="FunctionTask.__init__-350"><a href="#FunctionTask.__init__-350"><span class="linenos">350</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="FunctionTask.__init__-351"><a href="#FunctionTask.__init__-351"><span class="linenos">351</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span></pre></div>


    

                            </div>
                            <div id="FunctionTask.function" class="classattr">
                                <div class="attr variable">
            <span class="name">function</span>

        
    </div>
    <a class="headerlink" href="#FunctionTask.function"></a>
    
    

                            </div>
                            <div id="FunctionTask.args" class="classattr">
                                <div class="attr variable">
            <span class="name">args</span>

        
    </div>
    <a class="headerlink" href="#FunctionTask.args"></a>
    
    

                            </div>
                            <div id="FunctionTask.kwargs" class="classattr">
                                <div class="attr variable">
            <span class="name">kwargs</span>

        
    </div>
    <a class="headerlink" href="#FunctionTask.kwargs"></a>
    
    

                            </div>
                            <div id="FunctionTask.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span>

        
    </div>
    <a class="headerlink" href="#FunctionTask.output"></a>
    
    

                            </div>
                            <div id="FunctionTask.execute" class="classattr">
                                        <input id="FunctionTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">args</span><span class="o">=</span><span class="p">[]</span>, </span><span class="param"><span class="n">kwargs</span><span class="o">=</span><span class="p">{}</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FunctionTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionTask.execute-353"><a href="#FunctionTask.execute-353"><span class="linenos">353</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{}):</span>
</span><span id="FunctionTask.execute-354"><a href="#FunctionTask.execute-354"><span class="linenos">354</span></a>        <span class="k">if</span> <span class="n">args</span><span class="p">:</span>
</span><span id="FunctionTask.execute-355"><a href="#FunctionTask.execute-355"><span class="linenos">355</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="FunctionTask.execute-356"><a href="#FunctionTask.execute-356"><span class="linenos">356</span></a>        <span class="k">if</span> <span class="n">kwargs</span><span class="p">:</span>
</span><span id="FunctionTask.execute-357"><a href="#FunctionTask.execute-357"><span class="linenos">357</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="FunctionTask.execute-358"><a href="#FunctionTask.execute-358"><span class="linenos">358</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionTask.execute-359"><a href="#FunctionTask.execute-359"><span class="linenos">359</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionTask.execute-360"><a href="#FunctionTask.execute-360"><span class="linenos">360</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="FunctionTask.execute-361"><a href="#FunctionTask.execute-361"><span class="linenos">361</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionTask.execute-362"><a href="#FunctionTask.execute-362"><span class="linenos">362</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="p">,</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="FunctionTask.execute-363"><a href="#FunctionTask.execute-363"><span class="linenos">363</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionTask.execute-364"><a href="#FunctionTask.execute-364"><span class="linenos">364</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="FunctionTask.execute-365"><a href="#FunctionTask.execute-365"><span class="linenos">365</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionTask.execute-366"><a href="#FunctionTask.execute-366"><span class="linenos">366</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="FunctionTask.execute-367"><a href="#FunctionTask.execute-367"><span class="linenos">367</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionTask.execute-368"><a href="#FunctionTask.execute-368"><span class="linenos">368</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="FunctionTask.execute-369"><a href="#FunctionTask.execute-369"><span class="linenos">369</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="FunctionTask.execute-370"><a href="#FunctionTask.execute-370"><span class="linenos">370</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="FunctionTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="FunctionTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="FunctionTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="FunctionTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="FunctionTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="FunctionTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="FunctionTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="FunctionTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="FunctionTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="FunctionTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="FunctionTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="FunctionTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="FunctionTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="FunctionTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="FunctionTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="FunctionTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="FunctionTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="FunctionTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="FunctionTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="FunctionTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="FunctionTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="FunctionTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DependentFunctionTask">
                            <input id="DependentFunctionTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DependentFunctionTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="DependentFunctionTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DependentFunctionTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DependentFunctionTask-373"><a href="#DependentFunctionTask-373"><span class="linenos">373</span></a><span class="k">class</span> <span class="nc">DependentFunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="DependentFunctionTask-374"><a href="#DependentFunctionTask-374"><span class="linenos">374</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="DependentFunctionTask-375"><a href="#DependentFunctionTask-375"><span class="linenos">375</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="DependentFunctionTask-376"><a href="#DependentFunctionTask-376"><span class="linenos">376</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="DependentFunctionTask-377"><a href="#DependentFunctionTask-377"><span class="linenos">377</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="DependentFunctionTask-378"><a href="#DependentFunctionTask-378"><span class="linenos">378</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="DependentFunctionTask-379"><a href="#DependentFunctionTask-379"><span class="linenos">379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependentFunctionTask-380"><a href="#DependentFunctionTask-380"><span class="linenos">380</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DependentFunctionTask-381"><a href="#DependentFunctionTask-381"><span class="linenos">381</span></a>
</span><span id="DependentFunctionTask-382"><a href="#DependentFunctionTask-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DependentFunctionTask-383"><a href="#DependentFunctionTask-383"><span class="linenos">383</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DependentFunctionTask-384"><a href="#DependentFunctionTask-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DependentFunctionTask-385"><a href="#DependentFunctionTask-385"><span class="linenos">385</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="DependentFunctionTask-386"><a href="#DependentFunctionTask-386"><span class="linenos">386</span></a>                <span class="c1">#print(f&quot;The dependencies are {self.dependencies}&quot;)</span>
</span><span id="DependentFunctionTask-387"><a href="#DependentFunctionTask-387"><span class="linenos">387</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="DependentFunctionTask-388"><a href="#DependentFunctionTask-388"><span class="linenos">388</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="DependentFunctionTask-389"><a href="#DependentFunctionTask-389"><span class="linenos">389</span></a>                    <span class="c1">#print(f&quot;The task dependency has this output: {task.output}&quot;)</span>
</span><span id="DependentFunctionTask-390"><a href="#DependentFunctionTask-390"><span class="linenos">390</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="DependentFunctionTask-391"><a href="#DependentFunctionTask-391"><span class="linenos">391</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="DependentFunctionTask-392"><a href="#DependentFunctionTask-392"><span class="linenos">392</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask-393"><a href="#DependentFunctionTask-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DependentFunctionTask-394"><a href="#DependentFunctionTask-394"><span class="linenos">394</span></a>            <span class="c1">#print(f&quot;The output of the previous function is {self.task_outputs}&quot;)</span>
</span><span id="DependentFunctionTask-395"><a href="#DependentFunctionTask-395"><span class="linenos">395</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask-396"><a href="#DependentFunctionTask-396"><span class="linenos">396</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="DependentFunctionTask-397"><a href="#DependentFunctionTask-397"><span class="linenos">397</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask-398"><a href="#DependentFunctionTask-398"><span class="linenos">398</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DependentFunctionTask-399"><a href="#DependentFunctionTask-399"><span class="linenos">399</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="DependentFunctionTask-400"><a href="#DependentFunctionTask-400"><span class="linenos">400</span></a>        
</span><span id="DependentFunctionTask-401"><a href="#DependentFunctionTask-401"><span class="linenos">401</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DependentFunctionTask-402"><a href="#DependentFunctionTask-402"><span class="linenos">402</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="DependentFunctionTask-403"><a href="#DependentFunctionTask-403"><span class="linenos">403</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="DependentFunctionTask-404"><a href="#DependentFunctionTask-404"><span class="linenos">404</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An abstract representation of a task to be completed</p>
</div>


                            <div id="DependentFunctionTask.__init__" class="classattr">
                                        <input id="DependentFunctionTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">DependentFunctionTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">function</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">task_dictionary</span><span class="o">=</span><span class="p">{}</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="DependentFunctionTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DependentFunctionTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DependentFunctionTask.__init__-374"><a href="#DependentFunctionTask.__init__-374"><span class="linenos">374</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="DependentFunctionTask.__init__-375"><a href="#DependentFunctionTask.__init__-375"><span class="linenos">375</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="DependentFunctionTask.__init__-376"><a href="#DependentFunctionTask.__init__-376"><span class="linenos">376</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="DependentFunctionTask.__init__-377"><a href="#DependentFunctionTask.__init__-377"><span class="linenos">377</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">DependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="DependentFunctionTask.__init__-378"><a href="#DependentFunctionTask.__init__-378"><span class="linenos">378</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="DependentFunctionTask.__init__-379"><a href="#DependentFunctionTask.__init__-379"><span class="linenos">379</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="DependentFunctionTask.__init__-380"><a href="#DependentFunctionTask.__init__-380"><span class="linenos">380</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span></pre></div>


            <div class="docstring"><p>Assumes the input for the function is the output of the task dependencies</p>
</div>


                            </div>
                            <div id="DependentFunctionTask.function" class="classattr">
                                <div class="attr variable">
            <span class="name">function</span>

        
    </div>
    <a class="headerlink" href="#DependentFunctionTask.function"></a>
    
    

                            </div>
                            <div id="DependentFunctionTask.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span>

        
    </div>
    <a class="headerlink" href="#DependentFunctionTask.output"></a>
    
    

                            </div>
                            <div id="DependentFunctionTask.task_outputs" class="classattr">
                                <div class="attr variable">
            <span class="name">task_outputs</span>

        
    </div>
    <a class="headerlink" href="#DependentFunctionTask.task_outputs"></a>
    
    

                            </div>
                            <div id="DependentFunctionTask.execute" class="classattr">
                                        <input id="DependentFunctionTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DependentFunctionTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DependentFunctionTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DependentFunctionTask.execute-382"><a href="#DependentFunctionTask.execute-382"><span class="linenos">382</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DependentFunctionTask.execute-383"><a href="#DependentFunctionTask.execute-383"><span class="linenos">383</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DependentFunctionTask.execute-384"><a href="#DependentFunctionTask.execute-384"><span class="linenos">384</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="DependentFunctionTask.execute-385"><a href="#DependentFunctionTask.execute-385"><span class="linenos">385</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="DependentFunctionTask.execute-386"><a href="#DependentFunctionTask.execute-386"><span class="linenos">386</span></a>                <span class="c1">#print(f&quot;The dependencies are {self.dependencies}&quot;)</span>
</span><span id="DependentFunctionTask.execute-387"><a href="#DependentFunctionTask.execute-387"><span class="linenos">387</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="DependentFunctionTask.execute-388"><a href="#DependentFunctionTask.execute-388"><span class="linenos">388</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="DependentFunctionTask.execute-389"><a href="#DependentFunctionTask.execute-389"><span class="linenos">389</span></a>                    <span class="c1">#print(f&quot;The task dependency has this output: {task.output}&quot;)</span>
</span><span id="DependentFunctionTask.execute-390"><a href="#DependentFunctionTask.execute-390"><span class="linenos">390</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="p">)</span>
</span><span id="DependentFunctionTask.execute-391"><a href="#DependentFunctionTask.execute-391"><span class="linenos">391</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="DependentFunctionTask.execute-392"><a href="#DependentFunctionTask.execute-392"><span class="linenos">392</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask.execute-393"><a href="#DependentFunctionTask.execute-393"><span class="linenos">393</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DependentFunctionTask.execute-394"><a href="#DependentFunctionTask.execute-394"><span class="linenos">394</span></a>            <span class="c1">#print(f&quot;The output of the previous function is {self.task_outputs}&quot;)</span>
</span><span id="DependentFunctionTask.execute-395"><a href="#DependentFunctionTask.execute-395"><span class="linenos">395</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask.execute-396"><a href="#DependentFunctionTask.execute-396"><span class="linenos">396</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="DependentFunctionTask.execute-397"><a href="#DependentFunctionTask.execute-397"><span class="linenos">397</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="DependentFunctionTask.execute-398"><a href="#DependentFunctionTask.execute-398"><span class="linenos">398</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DependentFunctionTask.execute-399"><a href="#DependentFunctionTask.execute-399"><span class="linenos">399</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="DependentFunctionTask.execute-400"><a href="#DependentFunctionTask.execute-400"><span class="linenos">400</span></a>        
</span><span id="DependentFunctionTask.execute-401"><a href="#DependentFunctionTask.execute-401"><span class="linenos">401</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DependentFunctionTask.execute-402"><a href="#DependentFunctionTask.execute-402"><span class="linenos">402</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="DependentFunctionTask.execute-403"><a href="#DependentFunctionTask.execute-403"><span class="linenos">403</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="DependentFunctionTask.execute-404"><a href="#DependentFunctionTask.execute-404"><span class="linenos">404</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="DependentFunctionTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="DependentFunctionTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="DependentFunctionTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="DependentFunctionTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="DependentFunctionTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="DependentFunctionTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="DependentFunctionTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="DependentFunctionTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="DependentFunctionTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="DependentFunctionTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="DependentFunctionTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="DependentFunctionTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="DependentFunctionTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="DependentFunctionTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="DependentFunctionTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="DependentFunctionTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="DependentFunctionTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="DependentFunctionTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="DependentFunctionTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="DependentFunctionTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="DependentFunctionTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="DependentFunctionTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MultipleDependentFunctionTask">
                            <input id="MultipleDependentFunctionTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">MultipleDependentFunctionTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="MultipleDependentFunctionTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MultipleDependentFunctionTask-406"><a href="#MultipleDependentFunctionTask-406"><span class="linenos">406</span></a><span class="k">class</span> <span class="nc">MultipleDependentFunctionTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="MultipleDependentFunctionTask-407"><a href="#MultipleDependentFunctionTask-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="MultipleDependentFunctionTask-408"><a href="#MultipleDependentFunctionTask-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="MultipleDependentFunctionTask-409"><a href="#MultipleDependentFunctionTask-409"><span class="linenos">409</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="MultipleDependentFunctionTask-410"><a href="#MultipleDependentFunctionTask-410"><span class="linenos">410</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MultipleDependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask-411"><a href="#MultipleDependentFunctionTask-411"><span class="linenos">411</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="MultipleDependentFunctionTask-412"><a href="#MultipleDependentFunctionTask-412"><span class="linenos">412</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MultipleDependentFunctionTask-413"><a href="#MultipleDependentFunctionTask-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="MultipleDependentFunctionTask-414"><a href="#MultipleDependentFunctionTask-414"><span class="linenos">414</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="MultipleDependentFunctionTask-415"><a href="#MultipleDependentFunctionTask-415"><span class="linenos">415</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span><span id="MultipleDependentFunctionTask-416"><a href="#MultipleDependentFunctionTask-416"><span class="linenos">416</span></a>
</span><span id="MultipleDependentFunctionTask-417"><a href="#MultipleDependentFunctionTask-417"><span class="linenos">417</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MultipleDependentFunctionTask-418"><a href="#MultipleDependentFunctionTask-418"><span class="linenos">418</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask-419"><a href="#MultipleDependentFunctionTask-419"><span class="linenos">419</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask-420"><a href="#MultipleDependentFunctionTask-420"><span class="linenos">420</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="MultipleDependentFunctionTask-421"><a href="#MultipleDependentFunctionTask-421"><span class="linenos">421</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="MultipleDependentFunctionTask-422"><a href="#MultipleDependentFunctionTask-422"><span class="linenos">422</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;output_name&#39;</span><span class="p">]]</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">output</span>
</span><span id="MultipleDependentFunctionTask-423"><a href="#MultipleDependentFunctionTask-423"><span class="linenos">423</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="MultipleDependentFunctionTask-424"><a href="#MultipleDependentFunctionTask-424"><span class="linenos">424</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask-425"><a href="#MultipleDependentFunctionTask-425"><span class="linenos">425</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MultipleDependentFunctionTask-426"><a href="#MultipleDependentFunctionTask-426"><span class="linenos">426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">,**</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask-427"><a href="#MultipleDependentFunctionTask-427"><span class="linenos">427</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="MultipleDependentFunctionTask-428"><a href="#MultipleDependentFunctionTask-428"><span class="linenos">428</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask-429"><a href="#MultipleDependentFunctionTask-429"><span class="linenos">429</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MultipleDependentFunctionTask-430"><a href="#MultipleDependentFunctionTask-430"><span class="linenos">430</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="MultipleDependentFunctionTask-431"><a href="#MultipleDependentFunctionTask-431"><span class="linenos">431</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask-432"><a href="#MultipleDependentFunctionTask-432"><span class="linenos">432</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="MultipleDependentFunctionTask-433"><a href="#MultipleDependentFunctionTask-433"><span class="linenos">433</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask-434"><a href="#MultipleDependentFunctionTask-434"><span class="linenos">434</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>An abstract representation of a task to be completed</p>
</div>


                            <div id="MultipleDependentFunctionTask.__init__" class="classattr">
                                        <input id="MultipleDependentFunctionTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">MultipleDependentFunctionTask</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">path</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">function</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">task_dictionary</span><span class="o">=</span><span class="p">{}</span>,</span><span class="param">	<span class="n">args</span><span class="o">=</span><span class="p">[]</span>,</span><span class="param">	<span class="n">kwargs</span><span class="o">=</span><span class="p">{}</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="MultipleDependentFunctionTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MultipleDependentFunctionTask.__init__-407"><a href="#MultipleDependentFunctionTask.__init__-407"><span class="linenos">407</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">function</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">task_dictionary</span> <span class="o">=</span> <span class="p">{},</span> <span class="n">args</span> <span class="o">=</span> <span class="p">[]</span> <span class="p">,</span><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{},</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="MultipleDependentFunctionTask.__init__-408"><a href="#MultipleDependentFunctionTask.__init__-408"><span class="linenos">408</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Assumes the input for the function is the output of the task dependencies&quot;&quot;&quot;</span>
</span><span id="MultipleDependentFunctionTask.__init__-409"><a href="#MultipleDependentFunctionTask.__init__-409"><span class="linenos">409</span></a>        <span class="c1">#todo: clean up how the function(task.output) is done</span>
</span><span id="MultipleDependentFunctionTask.__init__-410"><a href="#MultipleDependentFunctionTask.__init__-410"><span class="linenos">410</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">MultipleDependentFunctionTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask.__init__-411"><a href="#MultipleDependentFunctionTask.__init__-411"><span class="linenos">411</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="MultipleDependentFunctionTask.__init__-412"><a href="#MultipleDependentFunctionTask.__init__-412"><span class="linenos">412</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="MultipleDependentFunctionTask.__init__-413"><a href="#MultipleDependentFunctionTask.__init__-413"><span class="linenos">413</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_outputs</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="MultipleDependentFunctionTask.__init__-414"><a href="#MultipleDependentFunctionTask.__init__-414"><span class="linenos">414</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">args</span> <span class="o">=</span> <span class="n">args</span>
</span><span id="MultipleDependentFunctionTask.__init__-415"><a href="#MultipleDependentFunctionTask.__init__-415"><span class="linenos">415</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span> <span class="o">=</span> <span class="n">kwargs</span>
</span></pre></div>


            <div class="docstring"><p>Assumes the input for the function is the output of the task dependencies</p>
</div>


                            </div>
                            <div id="MultipleDependentFunctionTask.function" class="classattr">
                                <div class="attr variable">
            <span class="name">function</span>

        
    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.function"></a>
    
    

                            </div>
                            <div id="MultipleDependentFunctionTask.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span>

        
    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.output"></a>
    
    

                            </div>
                            <div id="MultipleDependentFunctionTask.task_outputs" class="classattr">
                                <div class="attr variable">
            <span class="name">task_outputs</span>

        
    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.task_outputs"></a>
    
    

                            </div>
                            <div id="MultipleDependentFunctionTask.args" class="classattr">
                                <div class="attr variable">
            <span class="name">args</span>

        
    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.args"></a>
    
    

                            </div>
                            <div id="MultipleDependentFunctionTask.kwargs" class="classattr">
                                <div class="attr variable">
            <span class="name">kwargs</span>

        
    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.kwargs"></a>
    
    

                            </div>
                            <div id="MultipleDependentFunctionTask.execute" class="classattr">
                                        <input id="MultipleDependentFunctionTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="MultipleDependentFunctionTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#MultipleDependentFunctionTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="MultipleDependentFunctionTask.execute-417"><a href="#MultipleDependentFunctionTask.execute-417"><span class="linenos">417</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="MultipleDependentFunctionTask.execute-418"><a href="#MultipleDependentFunctionTask.execute-418"><span class="linenos">418</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask.execute-419"><a href="#MultipleDependentFunctionTask.execute-419"><span class="linenos">419</span></a>            <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask.execute-420"><a href="#MultipleDependentFunctionTask.execute-420"><span class="linenos">420</span></a>                <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="MultipleDependentFunctionTask.execute-421"><a href="#MultipleDependentFunctionTask.execute-421"><span class="linenos">421</span></a>                    <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="MultipleDependentFunctionTask.execute-422"><a href="#MultipleDependentFunctionTask.execute-422"><span class="linenos">422</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="p">[</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;output_name&#39;</span><span class="p">]]</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">output</span>
</span><span id="MultipleDependentFunctionTask.execute-423"><a href="#MultipleDependentFunctionTask.execute-423"><span class="linenos">423</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="MultipleDependentFunctionTask.execute-424"><a href="#MultipleDependentFunctionTask.execute-424"><span class="linenos">424</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has begun&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask.execute-425"><a href="#MultipleDependentFunctionTask.execute-425"><span class="linenos">425</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MultipleDependentFunctionTask.execute-426"><a href="#MultipleDependentFunctionTask.execute-426"><span class="linenos">426</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;self.function(*</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">,**</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask.execute-427"><a href="#MultipleDependentFunctionTask.execute-427"><span class="linenos">427</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="MultipleDependentFunctionTask.execute-428"><a href="#MultipleDependentFunctionTask.execute-428"><span class="linenos">428</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of function </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="si">}</span><span class="s2"> has completed&quot;</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask.execute-429"><a href="#MultipleDependentFunctionTask.execute-429"><span class="linenos">429</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="MultipleDependentFunctionTask.execute-430"><a href="#MultipleDependentFunctionTask.execute-430"><span class="linenos">430</span></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span>
</span><span id="MultipleDependentFunctionTask.execute-431"><a href="#MultipleDependentFunctionTask.execute-431"><span class="linenos">431</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="MultipleDependentFunctionTask.execute-432"><a href="#MultipleDependentFunctionTask.execute-432"><span class="linenos">432</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="MultipleDependentFunctionTask.execute-433"><a href="#MultipleDependentFunctionTask.execute-433"><span class="linenos">433</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="MultipleDependentFunctionTask.execute-434"><a href="#MultipleDependentFunctionTask.execute-434"><span class="linenos">434</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="MultipleDependentFunctionTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="MultipleDependentFunctionTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="MultipleDependentFunctionTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="MultipleDependentFunctionTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="MultipleDependentFunctionTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="MultipleDependentFunctionTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="MultipleDependentFunctionTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="MultipleDependentFunctionTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="MultipleDependentFunctionTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="MultipleDependentFunctionTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="MultipleDependentFunctionTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="MultipleDependentFunctionTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="MultipleDependentFunctionTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="MultipleDependentFunctionTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="MultipleDependentFunctionTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="MultipleDependentFunctionTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="MultipleDependentFunctionTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="MultipleDependentFunctionTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="MultipleDependentFunctionTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="MultipleDependentFunctionTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="MultipleDependentFunctionTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="MultipleDependentFunctionTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="ShellTask">
                            <input id="ShellTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">ShellTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="ShellTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ShellTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ShellTask-436"><a href="#ShellTask-436"><span class="linenos">436</span></a><span class="k">class</span> <span class="nc">ShellTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="ShellTask-437"><a href="#ShellTask-437"><span class="linenos">437</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a task that writes the string command+arguments to the command line when executed&quot;&quot;&quot;</span>
</span><span id="ShellTask-438"><a href="#ShellTask-438"><span class="linenos">438</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span>  <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span><span class="p">,</span><span class="n">arguments</span>  <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="ShellTask-439"><a href="#ShellTask-439"><span class="linenos">439</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ShellTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="ShellTask-440"><a href="#ShellTask-440"><span class="linenos">440</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span>  <span class="o">=</span> <span class="n">command</span>
</span><span id="ShellTask-441"><a href="#ShellTask-441"><span class="linenos">441</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span>
</span><span id="ShellTask-442"><a href="#ShellTask-442"><span class="linenos">442</span></a>
</span><span id="ShellTask-443"><a href="#ShellTask-443"><span class="linenos">443</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ShellTask-444"><a href="#ShellTask-444"><span class="linenos">444</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ShellTask-445"><a href="#ShellTask-445"><span class="linenos">445</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ShellTask-446"><a href="#ShellTask-446"><span class="linenos">446</span></a>            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">,</span><span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ShellTask-447"><a href="#ShellTask-447"><span class="linenos">447</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ShellTask-448"><a href="#ShellTask-448"><span class="linenos">448</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="ShellTask-449"><a href="#ShellTask-449"><span class="linenos">449</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates a task that writes the string command+arguments to the command line when executed</p>
</div>


                            <div id="ShellTask.__init__" class="classattr">
                                        <input id="ShellTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">ShellTask</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">path</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">command</span><span class="o">=</span><span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span>,</span><span class="param">	<span class="n">arguments</span><span class="o">=</span><span class="s1">&#39;&#39;</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="ShellTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ShellTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ShellTask.__init__-438"><a href="#ShellTask.__init__-438"><span class="linenos">438</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span>  <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">command</span> <span class="o">=</span> <span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span><span class="p">,</span><span class="n">arguments</span>  <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="ShellTask.__init__-439"><a href="#ShellTask.__init__-439"><span class="linenos">439</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">ShellTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="ShellTask.__init__-440"><a href="#ShellTask.__init__-440"><span class="linenos">440</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span>  <span class="o">=</span> <span class="n">command</span>
</span><span id="ShellTask.__init__-441"><a href="#ShellTask.__init__-441"><span class="linenos">441</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="n">arguments</span>
</span></pre></div>


    

                            </div>
                            <div id="ShellTask.command" class="classattr">
                                <div class="attr variable">
            <span class="name">command</span>

        
    </div>
    <a class="headerlink" href="#ShellTask.command"></a>
    
    

                            </div>
                            <div id="ShellTask.arguments" class="classattr">
                                <div class="attr variable">
            <span class="name">arguments</span>

        
    </div>
    <a class="headerlink" href="#ShellTask.arguments"></a>
    
    

                            </div>
                            <div id="ShellTask.execute" class="classattr">
                                        <input id="ShellTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="ShellTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#ShellTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="ShellTask.execute-443"><a href="#ShellTask.execute-443"><span class="linenos">443</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="ShellTask.execute-444"><a href="#ShellTask.execute-444"><span class="linenos">444</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="ShellTask.execute-445"><a href="#ShellTask.execute-445"><span class="linenos">445</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ShellTask.execute-446"><a href="#ShellTask.execute-446"><span class="linenos">446</span></a>            <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">,</span><span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="ShellTask.execute-447"><a href="#ShellTask.execute-447"><span class="linenos">447</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="ShellTask.execute-448"><a href="#ShellTask.execute-448"><span class="linenos">448</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="ShellTask.execute-449"><a href="#ShellTask.execute-449"><span class="linenos">449</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="ShellTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="ShellTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="ShellTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="ShellTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="ShellTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="ShellTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="ShellTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="ShellTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="ShellTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="ShellTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="ShellTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="ShellTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="ShellTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="ShellTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="ShellTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="ShellTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="ShellTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="ShellTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="ShellTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="ShellTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="ShellTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="ShellTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="StartTask">
                            <input id="StartTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">StartTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="StartTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StartTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StartTask-451"><a href="#StartTask-451"><span class="linenos">451</span></a><span class="k">class</span> <span class="nc">StartTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="StartTask-452"><a href="#StartTask-452"><span class="linenos">452</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Container for starting tasks in a workflow&quot;&quot;&quot;</span>
</span><span id="StartTask-453"><a href="#StartTask-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="StartTask-454"><a href="#StartTask-454"><span class="linenos">454</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StartTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Container for starting tasks in a workflow</p>
</div>


                            <div id="StartTask.__init__" class="classattr">
                                        <input id="StartTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">StartTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Start_Task_20250406_001.task&#39;</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="StartTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StartTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StartTask.__init__-453"><a href="#StartTask.__init__-453"><span class="linenos">453</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="StartTask.__init__-454"><a href="#StartTask.__init__-454"><span class="linenos">454</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StartTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="StartTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="StartTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="StartTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="StartTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="StartTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="StartTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="StartTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="StartTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="StartTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="StartTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="StartTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="StartTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="StartTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="StartTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="StartTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="StartTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="StartTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="StartTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="StartTask.execute" class="function"><a href="#Task.execute">execute</a></dd>
                <dd id="StartTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="StartTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="StartTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="StartTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="StopTask">
                            <input id="StopTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">StopTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="StopTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StopTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StopTask-457"><a href="#StopTask-457"><span class="linenos">457</span></a><span class="k">class</span> <span class="nc">StopTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="StopTask-458"><a href="#StopTask-458"><span class="linenos">458</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Container for the last task in a work flow&quot;&quot;&quot;</span>
</span><span id="StopTask-459"><a href="#StopTask-459"><span class="linenos">459</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Stop&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="StopTask-460"><a href="#StopTask-460"><span class="linenos">460</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StopTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Container for the last task in a work flow</p>
</div>


                            <div id="StopTask.__init__" class="classattr">
                                        <input id="StopTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">StopTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">path</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="n">name</span><span class="o">=</span><span class="s1">&#39;Stop_Task_20250406_001.task&#39;</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="StopTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#StopTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="StopTask.__init__-459"><a href="#StopTask.__init__-459"><span class="linenos">459</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Stop&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">),</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="StopTask.__init__-460"><a href="#StopTask.__init__-460"><span class="linenos">460</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">StopTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span><span class="n">path</span><span class="p">,</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="StopTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="StopTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="StopTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="StopTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="StopTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="StopTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="StopTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="StopTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="StopTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="StopTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="StopTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="StopTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="StopTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="StopTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="StopTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="StopTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="StopTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="StopTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="StopTask.execute" class="function"><a href="#Task.execute">execute</a></dd>
                <dd id="StopTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="StopTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="StopTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="StopTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SimpleVisaTask">
                            <input id="SimpleVisaTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">SimpleVisaTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="SimpleVisaTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SimpleVisaTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SimpleVisaTask-462"><a href="#SimpleVisaTask-462"><span class="linenos">462</span></a><span class="k">class</span> <span class="nc">SimpleVisaTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="SimpleVisaTask-463"><a href="#SimpleVisaTask-463"><span class="linenos">463</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Sends a single command to a visa resource&quot;&quot;&quot;</span>
</span><span id="SimpleVisaTask-464"><a href="#SimpleVisaTask-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">resource_name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;IDN?&quot;</span><span class="p">,</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;query&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="SimpleVisaTask-465"><a href="#SimpleVisaTask-465"><span class="linenos">465</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">SimpleVisaTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="SimpleVisaTask-466"><a href="#SimpleVisaTask-466"><span class="linenos">466</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="SimpleVisaTask-467"><a href="#SimpleVisaTask-467"><span class="linenos">467</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="SimpleVisaTask-468"><a href="#SimpleVisaTask-468"><span class="linenos">468</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SimpleVisaTask-469"><a href="#SimpleVisaTask-469"><span class="linenos">469</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Visa&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="SimpleVisaTask-470"><a href="#SimpleVisaTask-470"><span class="linenos">470</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="SimpleVisaTask-471"><a href="#SimpleVisaTask-471"><span class="linenos">471</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
</span><span id="SimpleVisaTask-472"><a href="#SimpleVisaTask-472"><span class="linenos">472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SimpleVisaTask-473"><a href="#SimpleVisaTask-473"><span class="linenos">473</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span> <span class="o">=</span> <span class="n">resource_name</span>
</span><span id="SimpleVisaTask-474"><a href="#SimpleVisaTask-474"><span class="linenos">474</span></a>
</span><span id="SimpleVisaTask-475"><a href="#SimpleVisaTask-475"><span class="linenos">475</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SimpleVisaTask-476"><a href="#SimpleVisaTask-476"><span class="linenos">476</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="SimpleVisaTask-477"><a href="#SimpleVisaTask-477"><span class="linenos">477</span></a>            <span class="n">rm</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
</span><span id="SimpleVisaTask-478"><a href="#SimpleVisaTask-478"><span class="linenos">478</span></a>            <span class="n">resource</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span><span class="p">)</span>
</span><span id="SimpleVisaTask-479"><a href="#SimpleVisaTask-479"><span class="linenos">479</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SimpleVisaTask-480"><a href="#SimpleVisaTask-480"><span class="linenos">480</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
</span><span id="SimpleVisaTask-481"><a href="#SimpleVisaTask-481"><span class="linenos">481</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SimpleVisaTask-482"><a href="#SimpleVisaTask-482"><span class="linenos">482</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="SimpleVisaTask-483"><a href="#SimpleVisaTask-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Sends a single command to a visa resource</p>
</div>


                            <div id="SimpleVisaTask.__init__" class="classattr">
                                        <input id="SimpleVisaTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">SimpleVisaTask</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">path</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">resource_name</span><span class="o">=</span><span class="kc">None</span>,</span><span class="param">	<span class="n">command</span><span class="o">=</span><span class="s1">&#39;IDN?&#39;</span>,</span><span class="param">	<span class="n">mode</span><span class="o">=</span><span class="s1">&#39;query&#39;</span>,</span><span class="param">	<span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="SimpleVisaTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SimpleVisaTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SimpleVisaTask.__init__-464"><a href="#SimpleVisaTask.__init__-464"><span class="linenos">464</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">path</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span><span class="n">resource_name</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;IDN?&quot;</span><span class="p">,</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;query&quot;</span><span class="p">,</span><span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="SimpleVisaTask.__init__-465"><a href="#SimpleVisaTask.__init__-465"><span class="linenos">465</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">SimpleVisaTask</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</span><span id="SimpleVisaTask.__init__-466"><a href="#SimpleVisaTask.__init__-466"><span class="linenos">466</span></a>        <span class="k">if</span> <span class="n">path</span><span class="p">:</span>
</span><span id="SimpleVisaTask.__init__-467"><a href="#SimpleVisaTask.__init__-467"><span class="linenos">467</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">path</span>
</span><span id="SimpleVisaTask.__init__-468"><a href="#SimpleVisaTask.__init__-468"><span class="linenos">468</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="SimpleVisaTask.__init__-469"><a href="#SimpleVisaTask.__init__-469"><span class="linenos">469</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">name</span>  <span class="o">=</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;Visa&quot;</span><span class="p">,</span><span class="s2">&quot;Task&quot;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s2">&quot;task&quot;</span><span class="p">)</span>
</span><span id="SimpleVisaTask.__init__-470"><a href="#SimpleVisaTask.__init__-470"><span class="linenos">470</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">mode</span>
</span><span id="SimpleVisaTask.__init__-471"><a href="#SimpleVisaTask.__init__-471"><span class="linenos">471</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
</span><span id="SimpleVisaTask.__init__-472"><a href="#SimpleVisaTask.__init__-472"><span class="linenos">472</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="SimpleVisaTask.__init__-473"><a href="#SimpleVisaTask.__init__-473"><span class="linenos">473</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span> <span class="o">=</span> <span class="n">resource_name</span>
</span></pre></div>


    

                            </div>
                            <div id="SimpleVisaTask.mode" class="classattr">
                                <div class="attr variable">
            <span class="name">mode</span>

        
    </div>
    <a class="headerlink" href="#SimpleVisaTask.mode"></a>
    
    

                            </div>
                            <div id="SimpleVisaTask.command" class="classattr">
                                <div class="attr variable">
            <span class="name">command</span>

        
    </div>
    <a class="headerlink" href="#SimpleVisaTask.command"></a>
    
    

                            </div>
                            <div id="SimpleVisaTask.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span>

        
    </div>
    <a class="headerlink" href="#SimpleVisaTask.output"></a>
    
    

                            </div>
                            <div id="SimpleVisaTask.resource_name" class="classattr">
                                <div class="attr variable">
            <span class="name">resource_name</span>

        
    </div>
    <a class="headerlink" href="#SimpleVisaTask.resource_name"></a>
    
    

                            </div>
                            <div id="SimpleVisaTask.execute" class="classattr">
                                        <input id="SimpleVisaTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="SimpleVisaTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SimpleVisaTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SimpleVisaTask.execute-475"><a href="#SimpleVisaTask.execute-475"><span class="linenos">475</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="SimpleVisaTask.execute-476"><a href="#SimpleVisaTask.execute-476"><span class="linenos">476</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="SimpleVisaTask.execute-477"><a href="#SimpleVisaTask.execute-477"><span class="linenos">477</span></a>            <span class="n">rm</span> <span class="o">=</span> <span class="n">visa</span><span class="o">.</span><span class="n">ResourceManager</span><span class="p">()</span>
</span><span id="SimpleVisaTask.execute-478"><a href="#SimpleVisaTask.execute-478"><span class="linenos">478</span></a>            <span class="n">resource</span> <span class="o">=</span> <span class="n">rm</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">resource_name</span><span class="p">)</span>
</span><span id="SimpleVisaTask.execute-479"><a href="#SimpleVisaTask.execute-479"><span class="linenos">479</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SimpleVisaTask.execute-480"><a href="#SimpleVisaTask.execute-480"><span class="linenos">480</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">resource</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">mode</span><span class="p">)(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
</span><span id="SimpleVisaTask.execute-481"><a href="#SimpleVisaTask.execute-481"><span class="linenos">481</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="SimpleVisaTask.execute-482"><a href="#SimpleVisaTask.execute-482"><span class="linenos">482</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="SimpleVisaTask.execute-483"><a href="#SimpleVisaTask.execute-483"><span class="linenos">483</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="SimpleVisaTask.task_options" class="variable"><a href="#Task.task_options">task_options</a></dd>
                <dd id="SimpleVisaTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="SimpleVisaTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="SimpleVisaTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="SimpleVisaTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="SimpleVisaTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="SimpleVisaTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="SimpleVisaTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="SimpleVisaTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="SimpleVisaTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="SimpleVisaTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="SimpleVisaTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="SimpleVisaTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="SimpleVisaTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="SimpleVisaTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="SimpleVisaTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="SimpleVisaTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="SimpleVisaTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="SimpleVisaTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="SimpleVisaTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="SimpleVisaTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="SimpleVisaTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="FunctionalExperimentTask">
                            <input id="FunctionalExperimentTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">FunctionalExperimentTask</span><wbr>(<span class="base"><a href="#Task">Task</a></span>):

                <label class="view-source-button" for="FunctionalExperimentTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionalExperimentTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionalExperimentTask-485"><a href="#FunctionalExperimentTask-485"><span class="linenos">485</span></a><span class="k">class</span> <span class="nc">FunctionalExperimentTask</span><span class="p">(</span><span class="n">Task</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-486"><a href="#FunctionalExperimentTask-486"><span class="linenos">486</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Runs an experiment based on a function. The function should return data as a single dictionary&quot;&quot;&quot;</span>
</span><span id="FunctionalExperimentTask-487"><a href="#FunctionalExperimentTask-487"><span class="linenos">487</span></a>
</span><span id="FunctionalExperimentTask-488"><a href="#FunctionalExperimentTask-488"><span class="linenos">488</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">run_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-489"><a href="#FunctionalExperimentTask-489"><span class="linenos">489</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="s2">&quot;Experiment&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;task&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask-490"><a href="#FunctionalExperimentTask-490"><span class="linenos">490</span></a>                    <span class="s2">&quot;finished_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;finished&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask-491"><a href="#FunctionalExperimentTask-491"><span class="linenos">491</span></a>                    <span class="s2">&quot;output_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;experiment&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask-492"><a href="#FunctionalExperimentTask-492"><span class="linenos">492</span></a>                    <span class="s2">&quot;dependent_run_list&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</span><span id="FunctionalExperimentTask-493"><a href="#FunctionalExperimentTask-493"><span class="linenos">493</span></a>
</span><span id="FunctionalExperimentTask-494"><a href="#FunctionalExperimentTask-494"><span class="linenos">494</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask-495"><a href="#FunctionalExperimentTask-495"><span class="linenos">495</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask-496"><a href="#FunctionalExperimentTask-496"><span class="linenos">496</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="FunctionalExperimentTask-497"><a href="#FunctionalExperimentTask-497"><span class="linenos">497</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask-498"><a href="#FunctionalExperimentTask-498"><span class="linenos">498</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="FunctionalExperimentTask-499"><a href="#FunctionalExperimentTask-499"><span class="linenos">499</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="FunctionalExperimentTask-500"><a href="#FunctionalExperimentTask-500"><span class="linenos">500</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-501"><a href="#FunctionalExperimentTask-501"><span class="linenos">501</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="FunctionalExperimentTask-502"><a href="#FunctionalExperimentTask-502"><span class="linenos">502</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-503"><a href="#FunctionalExperimentTask-503"><span class="linenos">503</span></a>            <span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">run_list</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-504"><a href="#FunctionalExperimentTask-504"><span class="linenos">504</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-505"><a href="#FunctionalExperimentTask-505"><span class="linenos">505</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-506"><a href="#FunctionalExperimentTask-506"><span class="linenos">506</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="FunctionalExperimentTask-507"><a href="#FunctionalExperimentTask-507"><span class="linenos">507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;output_path&quot;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask-508"><a href="#FunctionalExperimentTask-508"><span class="linenos">508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-509"><a href="#FunctionalExperimentTask-509"><span class="linenos">509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;finished_path&quot;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask-510"><a href="#FunctionalExperimentTask-510"><span class="linenos">510</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionalExperimentTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-511"><a href="#FunctionalExperimentTask-511"><span class="linenos">511</span></a>
</span><span id="FunctionalExperimentTask-512"><a href="#FunctionalExperimentTask-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="nf">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-513"><a href="#FunctionalExperimentTask-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;appends a row to the finshed csv&quot;&quot;&quot;</span>
</span><span id="FunctionalExperimentTask-514"><a href="#FunctionalExperimentTask-514"><span class="linenos">514</span></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">point</span><span class="p">])</span>
</span><span id="FunctionalExperimentTask-515"><a href="#FunctionalExperimentTask-515"><span class="linenos">515</span></a>        <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-516"><a href="#FunctionalExperimentTask-516"><span class="linenos">516</span></a>
</span><span id="FunctionalExperimentTask-517"><a href="#FunctionalExperimentTask-517"><span class="linenos">517</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-518"><a href="#FunctionalExperimentTask-518"><span class="linenos">518</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-519"><a href="#FunctionalExperimentTask-519"><span class="linenos">519</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;dependent_run_list&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask-520"><a href="#FunctionalExperimentTask-520"><span class="linenos">520</span></a>                <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-521"><a href="#FunctionalExperimentTask-521"><span class="linenos">521</span></a>                    <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask-522"><a href="#FunctionalExperimentTask-522"><span class="linenos">522</span></a>                        <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask-523"><a href="#FunctionalExperimentTask-523"><span class="linenos">523</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot; task.output&quot;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-524"><a href="#FunctionalExperimentTask-524"><span class="linenos">524</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FunctionalExperimentTask-525"><a href="#FunctionalExperimentTask-525"><span class="linenos">525</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FunctionalExperimentTask-526"><a href="#FunctionalExperimentTask-526"><span class="linenos">526</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask-527"><a href="#FunctionalExperimentTask-527"><span class="linenos">527</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of the experiment has begun&quot;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-528"><a href="#FunctionalExperimentTask-528"><span class="linenos">528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionalExperimentTask-529"><a href="#FunctionalExperimentTask-529"><span class="linenos">529</span></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="FunctionalExperimentTask-530"><a href="#FunctionalExperimentTask-530"><span class="linenos">530</span></a>            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-531"><a href="#FunctionalExperimentTask-531"><span class="linenos">531</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-532"><a href="#FunctionalExperimentTask-532"><span class="linenos">532</span></a>                    <span class="n">output_point</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask-533"><a href="#FunctionalExperimentTask-533"><span class="linenos">533</span></a>                    <span class="n">run_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-534"><a href="#FunctionalExperimentTask-534"><span class="linenos">534</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
</span><span id="FunctionalExperimentTask-535"><a href="#FunctionalExperimentTask-535"><span class="linenos">535</span></a>                    <span class="n">log_entry</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask-536"><a href="#FunctionalExperimentTask-536"><span class="linenos">536</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="FunctionalExperimentTask-537"><a href="#FunctionalExperimentTask-537"><span class="linenos">537</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;loop_number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
</span><span id="FunctionalExperimentTask-538"><a href="#FunctionalExperimentTask-538"><span class="linenos">538</span></a>                    <span class="n">log_entry</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-539"><a href="#FunctionalExperimentTask-539"><span class="linenos">539</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask-540"><a href="#FunctionalExperimentTask-540"><span class="linenos">540</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-541"><a href="#FunctionalExperimentTask-541"><span class="linenos">541</span></a>                    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">**</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-542"><a href="#FunctionalExperimentTask-542"><span class="linenos">542</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-543"><a href="#FunctionalExperimentTask-543"><span class="linenos">543</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-544"><a href="#FunctionalExperimentTask-544"><span class="linenos">544</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-545"><a href="#FunctionalExperimentTask-545"><span class="linenos">545</span></a>                    <span class="n">output_point</span><span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="FunctionalExperimentTask-546"><a href="#FunctionalExperimentTask-546"><span class="linenos">546</span></a>                    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-547"><a href="#FunctionalExperimentTask-547"><span class="linenos">547</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-548"><a href="#FunctionalExperimentTask-548"><span class="linenos">548</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-549"><a href="#FunctionalExperimentTask-549"><span class="linenos">549</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-550"><a href="#FunctionalExperimentTask-550"><span class="linenos">550</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-551"><a href="#FunctionalExperimentTask-551"><span class="linenos">551</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-552"><a href="#FunctionalExperimentTask-552"><span class="linenos">552</span></a>                    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="FunctionalExperimentTask-553"><a href="#FunctionalExperimentTask-553"><span class="linenos">553</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-554"><a href="#FunctionalExperimentTask-554"><span class="linenos">554</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask-555"><a href="#FunctionalExperimentTask-555"><span class="linenos">555</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">({</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span> <span class="s2">&quot;loop_number&quot;</span><span class="p">:</span> <span class="n">n</span><span class="p">})</span>
</span><span id="FunctionalExperimentTask-556"><a href="#FunctionalExperimentTask-556"><span class="linenos">556</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">on_point_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-557"><a href="#FunctionalExperimentTask-557"><span class="linenos">557</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-558"><a href="#FunctionalExperimentTask-558"><span class="linenos">558</span></a>                    <span class="k">pass</span>
</span><span id="FunctionalExperimentTask-559"><a href="#FunctionalExperimentTask-559"><span class="linenos">559</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionalExperimentTask-560"><a href="#FunctionalExperimentTask-560"><span class="linenos">560</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask-561"><a href="#FunctionalExperimentTask-561"><span class="linenos">561</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="FunctionalExperimentTask-562"><a href="#FunctionalExperimentTask-562"><span class="linenos">562</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-563"><a href="#FunctionalExperimentTask-563"><span class="linenos">563</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask-564"><a href="#FunctionalExperimentTask-564"><span class="linenos">564</span></a>
</span><span id="FunctionalExperimentTask-565"><a href="#FunctionalExperimentTask-565"><span class="linenos">565</span></a>    <span class="k">def</span> <span class="nf">on_point_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask-566"><a href="#FunctionalExperimentTask-566"><span class="linenos">566</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Runs an experiment based on a function. The function should return data as a single dictionary</p>
</div>


                            <div id="FunctionalExperimentTask.__init__" class="classattr">
                                        <input id="FunctionalExperimentTask.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">FunctionalExperimentTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">function</span>, </span><span class="param"><span class="n">run_list</span><span class="o">=</span><span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">options</span></span>)</span>

                <label class="view-source-button" for="FunctionalExperimentTask.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionalExperimentTask.__init__-488"><a href="#FunctionalExperimentTask.__init__-488"><span class="linenos">488</span></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">run_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.__init__-489"><a href="#FunctionalExperimentTask.__init__-489"><span class="linenos">489</span></a>        <span class="n">defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;New&quot;</span><span class="p">,</span> <span class="s2">&quot;Experiment&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;task&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask.__init__-490"><a href="#FunctionalExperimentTask.__init__-490"><span class="linenos">490</span></a>                    <span class="s2">&quot;finished_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;finished&quot;</span><span class="p">,</span> <span class="s2">&quot;points&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask.__init__-491"><a href="#FunctionalExperimentTask.__init__-491"><span class="linenos">491</span></a>                    <span class="s2">&quot;output_path&quot;</span><span class="p">:</span> <span class="n">auto_name</span><span class="p">(</span><span class="s2">&quot;experiment&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="s2">&quot;csv&quot;</span><span class="p">),</span>
</span><span id="FunctionalExperimentTask.__init__-492"><a href="#FunctionalExperimentTask.__init__-492"><span class="linenos">492</span></a>                    <span class="s2">&quot;dependent_run_list&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}</span>
</span><span id="FunctionalExperimentTask.__init__-493"><a href="#FunctionalExperimentTask.__init__-493"><span class="linenos">493</span></a>
</span><span id="FunctionalExperimentTask.__init__-494"><a href="#FunctionalExperimentTask.__init__-494"><span class="linenos">494</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask.__init__-495"><a href="#FunctionalExperimentTask.__init__-495"><span class="linenos">495</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask.__init__-496"><a href="#FunctionalExperimentTask.__init__-496"><span class="linenos">496</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="FunctionalExperimentTask.__init__-497"><a href="#FunctionalExperimentTask.__init__-497"><span class="linenos">497</span></a>        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">options</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask.__init__-498"><a href="#FunctionalExperimentTask.__init__-498"><span class="linenos">498</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="FunctionalExperimentTask.__init__-499"><a href="#FunctionalExperimentTask.__init__-499"><span class="linenos">499</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>
</span><span id="FunctionalExperimentTask.__init__-500"><a href="#FunctionalExperimentTask.__init__-500"><span class="linenos">500</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.__init__-501"><a href="#FunctionalExperimentTask.__init__-501"><span class="linenos">501</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="FunctionalExperimentTask.__init__-502"><a href="#FunctionalExperimentTask.__init__-502"><span class="linenos">502</span></a>        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.__init__-503"><a href="#FunctionalExperimentTask.__init__-503"><span class="linenos">503</span></a>            <span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">run_list</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.__init__-504"><a href="#FunctionalExperimentTask.__init__-504"><span class="linenos">504</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">input_df</span><span class="o">.</span><span class="n">to_dict</span><span class="p">(</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.__init__-505"><a href="#FunctionalExperimentTask.__init__-505"><span class="linenos">505</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.__init__-506"><a href="#FunctionalExperimentTask.__init__-506"><span class="linenos">506</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="n">run_list</span>
</span><span id="FunctionalExperimentTask.__init__-507"><a href="#FunctionalExperimentTask.__init__-507"><span class="linenos">507</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;output_path&quot;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask.__init__-508"><a href="#FunctionalExperimentTask.__init__-508"><span class="linenos">508</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.__init__-509"><a href="#FunctionalExperimentTask.__init__-509"><span class="linenos">509</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;finished_path&quot;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask.__init__-510"><a href="#FunctionalExperimentTask.__init__-510"><span class="linenos">510</span></a>        <span class="nb">super</span><span class="p">(</span><span class="n">FunctionalExperimentTask</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">)</span>
</span></pre></div>


    

                            </div>
                            <div id="FunctionalExperimentTask.task_options" class="classattr">
                                <div class="attr variable">
            <span class="name">task_options</span>

        
    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.task_options"></a>
    
    

                            </div>
                            <div id="FunctionalExperimentTask.function" class="classattr">
                                <div class="attr variable">
            <span class="name">function</span>

        
    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.function"></a>
    
    

                            </div>
                            <div id="FunctionalExperimentTask.output_path" class="classattr">
                                <div class="attr variable">
            <span class="name">output_path</span>

        
    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.output_path"></a>
    
    

                            </div>
                            <div id="FunctionalExperimentTask.output" class="classattr">
                                <div class="attr variable">
            <span class="name">output</span>

        
    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.output"></a>
    
    

                            </div>
                            <div id="FunctionalExperimentTask.finished_path" class="classattr">
                                <div class="attr variable">
            <span class="name">finished_path</span>

        
    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.finished_path"></a>
    
    

                            </div>
                            <div id="FunctionalExperimentTask.append_csv_row" class="classattr">
                                        <input id="FunctionalExperimentTask.append_csv_row-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">append_csv_row</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">filepath</span>, </span><span class="param"><span class="n">point</span>, </span><span class="param"><span class="n">header</span><span class="o">=</span><span class="kc">False</span>, </span><span class="param"><span class="n">index</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FunctionalExperimentTask.append_csv_row-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.append_csv_row"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionalExperimentTask.append_csv_row-512"><a href="#FunctionalExperimentTask.append_csv_row-512"><span class="linenos">512</span></a>    <span class="k">def</span> <span class="nf">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filepath</span><span class="p">,</span> <span class="n">point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.append_csv_row-513"><a href="#FunctionalExperimentTask.append_csv_row-513"><span class="linenos">513</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;appends a row to the finshed csv&quot;&quot;&quot;</span>
</span><span id="FunctionalExperimentTask.append_csv_row-514"><a href="#FunctionalExperimentTask.append_csv_row-514"><span class="linenos">514</span></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">point</span><span class="p">])</span>
</span><span id="FunctionalExperimentTask.append_csv_row-515"><a href="#FunctionalExperimentTask.append_csv_row-515"><span class="linenos">515</span></a>        <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filepath</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="n">header</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>appends a row to the finshed csv</p>
</div>


                            </div>
                            <div id="FunctionalExperimentTask.execute" class="classattr">
                                        <input id="FunctionalExperimentTask.execute-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">execute</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FunctionalExperimentTask.execute-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.execute"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionalExperimentTask.execute-517"><a href="#FunctionalExperimentTask.execute-517"><span class="linenos">517</span></a>    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.execute-518"><a href="#FunctionalExperimentTask.execute-518"><span class="linenos">518</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-519"><a href="#FunctionalExperimentTask.execute-519"><span class="linenos">519</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;dependent_run_list&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask.execute-520"><a href="#FunctionalExperimentTask.execute-520"><span class="linenos">520</span></a>                <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">dependencies</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-521"><a href="#FunctionalExperimentTask.execute-521"><span class="linenos">521</span></a>                    <span class="k">if</span> <span class="s2">&quot;task&quot;</span> <span class="ow">in</span> <span class="n">dependency</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
</span><span id="FunctionalExperimentTask.execute-522"><a href="#FunctionalExperimentTask.execute-522"><span class="linenos">522</span></a>                        <span class="n">task</span> <span class="o">=</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;input&#39;</span><span class="p">][</span><span class="s1">&#39;task&#39;</span><span class="p">]</span>
</span><span id="FunctionalExperimentTask.execute-523"><a href="#FunctionalExperimentTask.execute-523"><span class="linenos">523</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot; task.output&quot;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-524"><a href="#FunctionalExperimentTask.execute-524"><span class="linenos">524</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">finished</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FunctionalExperimentTask.execute-525"><a href="#FunctionalExperimentTask.execute-525"><span class="linenos">525</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">output</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="FunctionalExperimentTask.execute-526"><a href="#FunctionalExperimentTask.execute-526"><span class="linenos">526</span></a>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask.execute-527"><a href="#FunctionalExperimentTask.execute-527"><span class="linenos">527</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Execution of the experiment has begun&quot;</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-528"><a href="#FunctionalExperimentTask.execute-528"><span class="linenos">528</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">started</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionalExperimentTask.execute-529"><a href="#FunctionalExperimentTask.execute-529"><span class="linenos">529</span></a>            <span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="FunctionalExperimentTask.execute-530"><a href="#FunctionalExperimentTask.execute-530"><span class="linenos">530</span></a>            <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-531"><a href="#FunctionalExperimentTask.execute-531"><span class="linenos">531</span></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-532"><a href="#FunctionalExperimentTask.execute-532"><span class="linenos">532</span></a>                    <span class="n">output_point</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask.execute-533"><a href="#FunctionalExperimentTask.execute-533"><span class="linenos">533</span></a>                    <span class="n">run_point</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run_list</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-534"><a href="#FunctionalExperimentTask.execute-534"><span class="linenos">534</span></a>                    <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
</span><span id="FunctionalExperimentTask.execute-535"><a href="#FunctionalExperimentTask.execute-535"><span class="linenos">535</span></a>                    <span class="n">log_entry</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="FunctionalExperimentTask.execute-536"><a href="#FunctionalExperimentTask.execute-536"><span class="linenos">536</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;event&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">msg</span>
</span><span id="FunctionalExperimentTask.execute-537"><a href="#FunctionalExperimentTask.execute-537"><span class="linenos">537</span></a>                    <span class="n">log_entry</span><span class="p">[</span><span class="s2">&quot;loop_number&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span>
</span><span id="FunctionalExperimentTask.execute-538"><a href="#FunctionalExperimentTask.execute-538"><span class="linenos">538</span></a>                    <span class="n">log_entry</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-539"><a href="#FunctionalExperimentTask.execute-539"><span class="linenos">539</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask.execute-540"><a href="#FunctionalExperimentTask.execute-540"><span class="linenos">540</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-541"><a href="#FunctionalExperimentTask.execute-541"><span class="linenos">541</span></a>                    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="o">**</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-542"><a href="#FunctionalExperimentTask.execute-542"><span class="linenos">542</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">finished</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-543"><a href="#FunctionalExperimentTask.execute-543"><span class="linenos">543</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">run_point</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-544"><a href="#FunctionalExperimentTask.execute-544"><span class="linenos">544</span></a>                    <span class="n">output_point</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-545"><a href="#FunctionalExperimentTask.execute-545"><span class="linenos">545</span></a>                    <span class="n">output_point</span><span class="p">[</span><span class="s2">&quot;timestamp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
</span><span id="FunctionalExperimentTask.execute-546"><a href="#FunctionalExperimentTask.execute-546"><span class="linenos">546</span></a>                    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-547"><a href="#FunctionalExperimentTask.execute-547"><span class="linenos">547</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-548"><a href="#FunctionalExperimentTask.execute-548"><span class="linenos">548</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-549"><a href="#FunctionalExperimentTask.execute-549"><span class="linenos">549</span></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-550"><a href="#FunctionalExperimentTask.execute-550"><span class="linenos">550</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">finished_path</span><span class="p">,</span> <span class="n">run_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-551"><a href="#FunctionalExperimentTask.execute-551"><span class="linenos">551</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">append_csv_row</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">output_path</span><span class="p">,</span> <span class="n">output_point</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-552"><a href="#FunctionalExperimentTask.execute-552"><span class="linenos">552</span></a>                    <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="FunctionalExperimentTask.execute-553"><a href="#FunctionalExperimentTask.execute-553"><span class="linenos">553</span></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-554"><a href="#FunctionalExperimentTask.execute-554"><span class="linenos">554</span></a>                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">task_options</span><span class="p">[</span><span class="s2">&quot;log&quot;</span><span class="p">]:</span>
</span><span id="FunctionalExperimentTask.execute-555"><a href="#FunctionalExperimentTask.execute-555"><span class="linenos">555</span></a>                        <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">add_entry</span><span class="p">({</span><span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="n">e</span><span class="p">,</span> <span class="s2">&quot;loop_number&quot;</span><span class="p">:</span> <span class="n">n</span><span class="p">})</span>
</span><span id="FunctionalExperimentTask.execute-556"><a href="#FunctionalExperimentTask.execute-556"><span class="linenos">556</span></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">on_point_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-557"><a href="#FunctionalExperimentTask.execute-557"><span class="linenos">557</span></a>                    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-558"><a href="#FunctionalExperimentTask.execute-558"><span class="linenos">558</span></a>                    <span class="k">pass</span>
</span><span id="FunctionalExperimentTask.execute-559"><a href="#FunctionalExperimentTask.execute-559"><span class="linenos">559</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">completed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="FunctionalExperimentTask.execute-560"><a href="#FunctionalExperimentTask.execute-560"><span class="linenos">560</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="FunctionalExperimentTask.execute-561"><a href="#FunctionalExperimentTask.execute-561"><span class="linenos">561</span></a>            <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">exc_traceback</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
</span><span id="FunctionalExperimentTask.execute-562"><a href="#FunctionalExperimentTask.execute-562"><span class="linenos">562</span></a>            <span class="n">traceback</span><span class="o">.</span><span class="n">print_tb</span><span class="p">(</span><span class="n">exc_traceback</span><span class="p">)</span>
</span><span id="FunctionalExperimentTask.execute-563"><a href="#FunctionalExperimentTask.execute-563"><span class="linenos">563</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">on_error</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Causes the task to run</p>
</div>


                            </div>
                            <div id="FunctionalExperimentTask.on_point_error" class="classattr">
                                        <input id="FunctionalExperimentTask.on_point_error-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">on_point_error</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">exception</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="FunctionalExperimentTask.on_point_error-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#FunctionalExperimentTask.on_point_error"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="FunctionalExperimentTask.on_point_error-565"><a href="#FunctionalExperimentTask.on_point_error-565"><span class="linenos">565</span></a>    <span class="k">def</span> <span class="nf">on_point_error</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
</span><span id="FunctionalExperimentTask.on_point_error-566"><a href="#FunctionalExperimentTask.on_point_error-566"><span class="linenos">566</span></a>        <span class="k">pass</span>
</span></pre></div>


    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#Task">Task</a></dt>
                                <dd id="FunctionalExperimentTask.name" class="variable"><a href="#Task.name">name</a></dd>
                <dd id="FunctionalExperimentTask.dependencies" class="variable"><a href="#Task.dependencies">dependencies</a></dd>
                <dd id="FunctionalExperimentTask.met_dependencies" class="variable"><a href="#Task.met_dependencies">met_dependencies</a></dd>
                <dd id="FunctionalExperimentTask.dependency_repeats" class="variable"><a href="#Task.dependency_repeats">dependency_repeats</a></dd>
                <dd id="FunctionalExperimentTask.dependency_times" class="variable"><a href="#Task.dependency_times">dependency_times</a></dd>
                <dd id="FunctionalExperimentTask.dependency_durations" class="variable"><a href="#Task.dependency_durations">dependency_durations</a></dd>
                <dd id="FunctionalExperimentTask.id" class="variable"><a href="#Task.id">id</a></dd>
                <dd id="FunctionalExperimentTask.start_time" class="variable"><a href="#Task.start_time">start_time</a></dd>
                <dd id="FunctionalExperimentTask.timer" class="variable"><a href="#Task.timer">timer</a></dd>
                <dd id="FunctionalExperimentTask.completed" class="variable"><a href="#Task.completed">completed</a></dd>
                <dd id="FunctionalExperimentTask.retries" class="variable"><a href="#Task.retries">retries</a></dd>
                <dd id="FunctionalExperimentTask.max_tries" class="variable"><a href="#Task.max_tries">max_tries</a></dd>
                <dd id="FunctionalExperimentTask.depth" class="variable"><a href="#Task.depth">depth</a></dd>
                <dd id="FunctionalExperimentTask.started" class="variable"><a href="#Task.started">started</a></dd>
                <dd id="FunctionalExperimentTask.count_task_depth" class="function"><a href="#Task.count_task_depth">count_task_depth</a></dd>
                <dd id="FunctionalExperimentTask.add_dependency" class="function"><a href="#Task.add_dependency">add_dependency</a></dd>
                <dd id="FunctionalExperimentTask.remove_dependency" class="function"><a href="#Task.remove_dependency">remove_dependency</a></dd>
                <dd id="FunctionalExperimentTask.get_task_duration" class="function"><a href="#Task.get_task_duration">get_task_duration</a></dd>
                <dd id="FunctionalExperimentTask.throw_dependency_error" class="function"><a href="#Task.throw_dependency_error">throw_dependency_error</a></dd>
                <dd id="FunctionalExperimentTask.on_error" class="function"><a href="#Task.on_error">on_error</a></dd>
                <dd id="FunctionalExperimentTask.check_dependencies" class="function"><a href="#Task.check_dependencies">check_dependencies</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="test_MultipleDependentFunction">
                            <input id="test_MultipleDependentFunction-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_MultipleDependentFunction</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_MultipleDependentFunction-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_MultipleDependentFunction"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_MultipleDependentFunction-570"><a href="#test_MultipleDependentFunction-570"><span class="linenos">570</span></a><span class="k">def</span> <span class="nf">test_MultipleDependentFunction</span><span class="p">():</span>
</span><span id="test_MultipleDependentFunction-571"><a href="#test_MultipleDependentFunction-571"><span class="linenos">571</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_MultipleDependentFunction-572"><a href="#test_MultipleDependentFunction-572"><span class="linenos">572</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-573"><a href="#test_MultipleDependentFunction-573"><span class="linenos">573</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_MultipleDependentFunction-574"><a href="#test_MultipleDependentFunction-574"><span class="linenos">574</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_MultipleDependentFunction-575"><a href="#test_MultipleDependentFunction-575"><span class="linenos">575</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-576"><a href="#test_MultipleDependentFunction-576"><span class="linenos">576</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="test_MultipleDependentFunction-577"><a href="#test_MultipleDependentFunction-577"><span class="linenos">577</span></a>    <span class="k">def</span> <span class="nf">f3</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
</span><span id="test_MultipleDependentFunction-578"><a href="#test_MultipleDependentFunction-578"><span class="linenos">578</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
</span><span id="test_MultipleDependentFunction-579"><a href="#test_MultipleDependentFunction-579"><span class="linenos">579</span></a>    <span class="n">task1</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-580"><a href="#test_MultipleDependentFunction-580"><span class="linenos">580</span></a>    <span class="n">task2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;add_2&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-581"><a href="#test_MultipleDependentFunction-581"><span class="linenos">581</span></a>    <span class="n">task3</span> <span class="o">=</span> <span class="n">MultipleDependentFunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f3</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;sum_of_both&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-582"><a href="#test_MultipleDependentFunction-582"><span class="linenos">582</span></a>    <span class="n">dependency1</span> <span class="o">=</span> <span class="n">TaskDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span><span class="n">task1</span><span class="p">,</span><span class="s1">&#39;output_name&#39;</span><span class="p">:</span><span class="s2">&quot;x&quot;</span><span class="p">})</span>
</span><span id="test_MultipleDependentFunction-583"><a href="#test_MultipleDependentFunction-583"><span class="linenos">583</span></a>    <span class="n">dependency2</span> <span class="o">=</span> <span class="n">TaskDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span><span class="n">task2</span><span class="p">,</span><span class="s1">&#39;output_name&#39;</span><span class="p">:</span><span class="s2">&quot;y&quot;</span><span class="p">})</span>
</span><span id="test_MultipleDependentFunction-584"><a href="#test_MultipleDependentFunction-584"><span class="linenos">584</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency1</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-585"><a href="#test_MultipleDependentFunction-585"><span class="linenos">585</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency2</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-586"><a href="#test_MultipleDependentFunction-586"><span class="linenos">586</span></a>    <span class="n">task1</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_MultipleDependentFunction-587"><a href="#test_MultipleDependentFunction-587"><span class="linenos">587</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task1 named </span><span class="si">{</span><span class="n">task1</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task1</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-588"><a href="#test_MultipleDependentFunction-588"><span class="linenos">588</span></a>    <span class="n">task2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_MultipleDependentFunction-589"><a href="#test_MultipleDependentFunction-589"><span class="linenos">589</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task2 named </span><span class="si">{</span><span class="n">task2</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span><span id="test_MultipleDependentFunction-590"><a href="#test_MultipleDependentFunction-590"><span class="linenos">590</span></a>    <span class="n">task3</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_MultipleDependentFunction-591"><a href="#test_MultipleDependentFunction-591"><span class="linenos">591</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;task3 named </span><span class="si">{</span><span class="n">task3</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> whose output is </span><span class="si">{</span><span class="n">task3</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2"> has executed&quot;</span><span class="p">)</span>
</span></pre></div>


    

                </section>
                <section id="test_Dependency">
                            <input id="test_Dependency-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_Dependency</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">number_repeats</span><span class="o">=</span><span class="mi">31</span>,</span><span class="param">	<span class="n">repeat_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">879952</span><span class="p">)</span>,</span><span class="param">	<span class="n">absolute_time</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2025</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">879952</span><span class="p">)</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_Dependency-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_Dependency"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_Dependency-593"><a href="#test_Dependency-593"><span class="linenos">593</span></a><span class="k">def</span> <span class="nf">test_Dependency</span><span class="p">(</span><span class="n">number_repeats</span><span class="o">=</span><span class="mi">31</span><span class="p">,</span><span class="n">repeat_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">32</span><span class="p">),</span>
</span><span id="test_Dependency-594"><a href="#test_Dependency-594"><span class="linenos">594</span></a>                    <span class="n">absolute_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">+</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">30</span><span class="p">)):</span>
</span><span id="test_Dependency-595"><a href="#test_Dependency-595"><span class="linenos">595</span></a>    <span class="kn">import</span> <span class="nn">time</span>
</span><span id="test_Dependency-596"><a href="#test_Dependency-596"><span class="linenos">596</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new Dependency Class&quot;</span><span class="p">)</span>
</span><span id="test_Dependency-597"><a href="#test_Dependency-597"><span class="linenos">597</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Test&#39;</span><span class="p">,</span><span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;repeat_n_times&#39;</span><span class="p">,</span><span class="n">checker</span> <span class="o">=</span> <span class="s1">&#39;always_false&#39;</span><span class="p">,</span><span class="n">number_repeats</span><span class="o">=</span><span class="n">number_repeats</span><span class="p">)</span>
</span><span id="test_Dependency-598"><a href="#test_Dependency-598"><span class="linenos">598</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The contents of the dependency are </span><span class="si">{0}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">dependency</span><span class="p">))</span>
</span><span id="test_Dependency-599"><a href="#test_Dependency-599"><span class="linenos">599</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">()</span>
</span><span id="test_Dependency-600"><a href="#test_Dependency-600"><span class="linenos">600</span></a>    <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span>
</span><span id="test_Dependency-601"><a href="#test_Dependency-601"><span class="linenos">601</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="test_Dependency-602"><a href="#test_Dependency-602"><span class="linenos">602</span></a>
</span><span id="test_Dependency-603"><a href="#test_Dependency-603"><span class="linenos">603</span></a>    <span class="n">dependency_2</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Timer&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;repeat_until&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;timer&#39;</span><span class="p">,</span>
</span><span id="test_Dependency-604"><a href="#test_Dependency-604"><span class="linenos">604</span></a>                              <span class="n">repeat_time</span><span class="o">=</span><span class="n">repeat_time</span><span class="p">,</span>
</span><span id="test_Dependency-605"><a href="#test_Dependency-605"><span class="linenos">605</span></a>                              <span class="nb">input</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;absolute_time&quot;</span><span class="p">:</span><span class="n">absolute_time</span><span class="p">})</span>
</span><span id="test_Dependency-606"><a href="#test_Dependency-606"><span class="linenos">606</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency_2</span><span class="p">)</span>
</span><span id="test_Dependency-607"><a href="#test_Dependency-607"><span class="linenos">607</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">101</span><span class="p">):</span>
</span><span id="test_Dependency-608"><a href="#test_Dependency-608"><span class="linenos">608</span></a>        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="test_Dependency-609"><a href="#test_Dependency-609"><span class="linenos">609</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;iteration : </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_Dependency-610"><a href="#test_Dependency-610"><span class="linenos">610</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</span><span id="test_Dependency-611"><a href="#test_Dependency-611"><span class="linenos">611</span></a>        <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_Dependency-612"><a href="#test_Dependency-612"><span class="linenos">612</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">met_dependencies</span><span class="p">)</span>
</span><span id="test_Dependency-613"><a href="#test_Dependency-613"><span class="linenos">613</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="p">)</span>
</span><span id="test_Dependency-614"><a href="#test_Dependency-614"><span class="linenos">614</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">dependency_repeats</span><span class="p">)</span>
</span><span id="test_Dependency-615"><a href="#test_Dependency-615"><span class="linenos">615</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">new_task</span><span class="o">.</span><span class="n">dependency_times</span><span class="p">)</span>
</span></pre></div>


    

                </section>
                <section id="test_two_FunctionTasks">
                            <input id="test_two_FunctionTasks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_two_FunctionTasks</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_two_FunctionTasks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_two_FunctionTasks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_two_FunctionTasks-617"><a href="#test_two_FunctionTasks-617"><span class="linenos">617</span></a><span class="k">def</span> <span class="nf">test_two_FunctionTasks</span><span class="p">():</span>
</span><span id="test_two_FunctionTasks-618"><a href="#test_two_FunctionTasks-618"><span class="linenos">618</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests dependent FunctionTasks&quot;&quot;&quot;</span>
</span><span id="test_two_FunctionTasks-619"><a href="#test_two_FunctionTasks-619"><span class="linenos">619</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_two_FunctionTasks-620"><a href="#test_two_FunctionTasks-620"><span class="linenos">620</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-621"><a href="#test_two_FunctionTasks-621"><span class="linenos">621</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_two_FunctionTasks-622"><a href="#test_two_FunctionTasks-622"><span class="linenos">622</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_two_FunctionTasks-623"><a href="#test_two_FunctionTasks-623"><span class="linenos">623</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-624"><a href="#test_two_FunctionTasks-624"><span class="linenos">624</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="test_two_FunctionTasks-625"><a href="#test_two_FunctionTasks-625"><span class="linenos">625</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-626"><a href="#test_two_FunctionTasks-626"><span class="linenos">626</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span><span id="test_two_FunctionTasks-627"><a href="#test_two_FunctionTasks-627"><span class="linenos">627</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-628"><a href="#test_two_FunctionTasks-628"><span class="linenos">628</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_two_FunctionTasks-629"><a href="#test_two_FunctionTasks-629"><span class="linenos">629</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-630"><a href="#test_two_FunctionTasks-630"><span class="linenos">630</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-631"><a href="#test_two_FunctionTasks-631"><span class="linenos">631</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-632"><a href="#test_two_FunctionTasks-632"><span class="linenos">632</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="test_two_FunctionTasks-633"><a href="#test_two_FunctionTasks-633"><span class="linenos">633</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="test_two_FunctionTasks-634"><a href="#test_two_FunctionTasks-634"><span class="linenos">634</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new type dependency and adding it to task 1&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-635"><a href="#test_two_FunctionTasks-635"><span class="linenos">635</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">input_variable</span><span class="p">},</span> <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)}})</span>
</span><span id="test_two_FunctionTasks-636"><a href="#test_two_FunctionTasks-636"><span class="linenos">636</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-637"><a href="#test_two_FunctionTasks-637"><span class="linenos">637</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a second function task&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-638"><a href="#test_two_FunctionTasks-638"><span class="linenos">638</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f2</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="o">.</span><span class="n">output</span><span class="p">})</span>
</span><span id="test_two_FunctionTasks-639"><a href="#test_two_FunctionTasks-639"><span class="linenos">639</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a task dependency and adding it to task 2&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-640"><a href="#test_two_FunctionTasks-640"><span class="linenos">640</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="test_two_FunctionTasks-641"><a href="#test_two_FunctionTasks-641"><span class="linenos">641</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="p">})</span>
</span><span id="test_two_FunctionTasks-642"><a href="#test_two_FunctionTasks-642"><span class="linenos">642</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-643"><a href="#test_two_FunctionTasks-643"><span class="linenos">643</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing task 1 after checking the dependencies&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-644"><a href="#test_two_FunctionTasks-644"><span class="linenos">644</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_two_FunctionTasks-645"><a href="#test_two_FunctionTasks-645"><span class="linenos">645</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_two_FunctionTasks-646"><a href="#test_two_FunctionTasks-646"><span class="linenos">646</span></a>    <span class="c1">#new_task_2.args = [new_task.output]</span>
</span><span id="test_two_FunctionTasks-647"><a href="#test_two_FunctionTasks-647"><span class="linenos">647</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task 2 arguments are </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_two_FunctionTasks-648"><a href="#test_two_FunctionTasks-648"><span class="linenos">648</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_two_FunctionTasks-649"><a href="#test_two_FunctionTasks-649"><span class="linenos">649</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_two_FunctionTasks-650"><a href="#test_two_FunctionTasks-650"><span class="linenos">650</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The output of task 2 is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tests dependent FunctionTasks</p>
</div>


                </section>
                <section id="test_DependentFunctionTask">
                            <input id="test_DependentFunctionTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_DependentFunctionTask</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_DependentFunctionTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_DependentFunctionTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_DependentFunctionTask-652"><a href="#test_DependentFunctionTask-652"><span class="linenos">652</span></a><span class="k">def</span> <span class="nf">test_DependentFunctionTask</span><span class="p">():</span>
</span><span id="test_DependentFunctionTask-653"><a href="#test_DependentFunctionTask-653"><span class="linenos">653</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests dependent FunctionTasks&quot;&quot;&quot;</span>
</span><span id="test_DependentFunctionTask-654"><a href="#test_DependentFunctionTask-654"><span class="linenos">654</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_DependentFunctionTask-655"><a href="#test_DependentFunctionTask-655"><span class="linenos">655</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f is executing&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-656"><a href="#test_DependentFunctionTask-656"><span class="linenos">656</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_DependentFunctionTask-657"><a href="#test_DependentFunctionTask-657"><span class="linenos">657</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_DependentFunctionTask-658"><a href="#test_DependentFunctionTask-658"><span class="linenos">658</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Function f2 is executing &quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-659"><a href="#test_DependentFunctionTask-659"><span class="linenos">659</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="mi">2</span>
</span><span id="test_DependentFunctionTask-660"><a href="#test_DependentFunctionTask-660"><span class="linenos">660</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-661"><a href="#test_DependentFunctionTask-661"><span class="linenos">661</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</span><span id="test_DependentFunctionTask-662"><a href="#test_DependentFunctionTask-662"><span class="linenos">662</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-663"><a href="#test_DependentFunctionTask-663"><span class="linenos">663</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_DependentFunctionTask-664"><a href="#test_DependentFunctionTask-664"><span class="linenos">664</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-665"><a href="#test_DependentFunctionTask-665"><span class="linenos">665</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-666"><a href="#test_DependentFunctionTask-666"><span class="linenos">666</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-667"><a href="#test_DependentFunctionTask-667"><span class="linenos">667</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="test_DependentFunctionTask-668"><a href="#test_DependentFunctionTask-668"><span class="linenos">668</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="test_DependentFunctionTask-669"><a href="#test_DependentFunctionTask-669"><span class="linenos">669</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new type dependency and adding it to task 1&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-670"><a href="#test_DependentFunctionTask-670"><span class="linenos">670</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="n">input_variable</span><span class="p">},</span> <span class="s2">&quot;types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">)}})</span>
</span><span id="test_DependentFunctionTask-671"><a href="#test_DependentFunctionTask-671"><span class="linenos">671</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-672"><a href="#test_DependentFunctionTask-672"><span class="linenos">672</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a second function task&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-673"><a href="#test_DependentFunctionTask-673"><span class="linenos">673</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">DependentFunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f2</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-674"><a href="#test_DependentFunctionTask-674"><span class="linenos">674</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a task dependency and adding it to task 2&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-675"><a href="#test_DependentFunctionTask-675"><span class="linenos">675</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="test_DependentFunctionTask-676"><a href="#test_DependentFunctionTask-676"><span class="linenos">676</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task</span><span class="p">})</span>
</span><span id="test_DependentFunctionTask-677"><a href="#test_DependentFunctionTask-677"><span class="linenos">677</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-678"><a href="#test_DependentFunctionTask-678"><span class="linenos">678</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing task 1 after checking the dependencies&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-679"><a href="#test_DependentFunctionTask-679"><span class="linenos">679</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_DependentFunctionTask-680"><a href="#test_DependentFunctionTask-680"><span class="linenos">680</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_DependentFunctionTask-681"><a href="#test_DependentFunctionTask-681"><span class="linenos">681</span></a>    <span class="c1">#new_task_2.args = [new_task.output]</span>
</span><span id="test_DependentFunctionTask-682"><a href="#test_DependentFunctionTask-682"><span class="linenos">682</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task 2 arguments are </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">task_outputs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_DependentFunctionTask-683"><a href="#test_DependentFunctionTask-683"><span class="linenos">683</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_DependentFunctionTask-684"><a href="#test_DependentFunctionTask-684"><span class="linenos">684</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_DependentFunctionTask-685"><a href="#test_DependentFunctionTask-685"><span class="linenos">685</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The output of task 2 is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tests dependent FunctionTasks</p>
</div>


                </section>
                <section id="test_FunctionTask">
                            <input id="test_FunctionTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_FunctionTask</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_FunctionTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_FunctionTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_FunctionTask-687"><a href="#test_FunctionTask-687"><span class="linenos">687</span></a><span class="k">def</span> <span class="nf">test_FunctionTask</span><span class="p">():</span>
</span><span id="test_FunctionTask-688"><a href="#test_FunctionTask-688"><span class="linenos">688</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Simple test of the FunctionTask class&quot;&quot;&quot;</span>
</span><span id="test_FunctionTask-689"><a href="#test_FunctionTask-689"><span class="linenos">689</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_FunctionTask-690"><a href="#test_FunctionTask-690"><span class="linenos">690</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_FunctionTask-691"><a href="#test_FunctionTask-691"><span class="linenos">691</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_FunctionTask-692"><a href="#test_FunctionTask-692"><span class="linenos">692</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="test_FunctionTask-693"><a href="#test_FunctionTask-693"><span class="linenos">693</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_FunctionTask-694"><a href="#test_FunctionTask-694"><span class="linenos">694</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="test_FunctionTask-695"><a href="#test_FunctionTask-695"><span class="linenos">695</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">],</span><span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</span><span id="test_FunctionTask-696"><a href="#test_FunctionTask-696"><span class="linenos">696</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Simple test of the FunctionTask class</p>
</div>


                </section>
                <section id="test_type_checker">
                            <input id="test_type_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_type_checker</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_type_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_type_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_type_checker-698"><a href="#test_type_checker-698"><span class="linenos">698</span></a><span class="k">def</span> <span class="nf">test_type_checker</span><span class="p">():</span>
</span><span id="test_type_checker-699"><a href="#test_type_checker-699"><span class="linenos">699</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests the type checker &quot;&quot;&quot;</span>
</span><span id="test_type_checker-700"><a href="#test_type_checker-700"><span class="linenos">700</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_type_checker-701"><a href="#test_type_checker-701"><span class="linenos">701</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_type_checker-702"><a href="#test_type_checker-702"><span class="linenos">702</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_type_checker-703"><a href="#test_type_checker-703"><span class="linenos">703</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="test_type_checker-704"><a href="#test_type_checker-704"><span class="linenos">704</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_type_checker-705"><a href="#test_type_checker-705"><span class="linenos">705</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="test_type_checker-706"><a href="#test_type_checker-706"><span class="linenos">706</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="test_type_checker-707"><a href="#test_type_checker-707"><span class="linenos">707</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_type_checker-708"><a href="#test_type_checker-708"><span class="linenos">708</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;type_checker&#39;</span><span class="p">,</span>
</span><span id="test_type_checker-709"><a href="#test_type_checker-709"><span class="linenos">709</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">input_variable</span><span class="p">},</span><span class="s2">&quot;types&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)}})</span>
</span><span id="test_type_checker-710"><a href="#test_type_checker-710"><span class="linenos">710</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="test_type_checker-711"><a href="#test_type_checker-711"><span class="linenos">711</span></a>    <span class="n">new_task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_type_checker-712"><a href="#test_type_checker-712"><span class="linenos">712</span></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">new_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_type_checker-713"><a href="#test_type_checker-713"><span class="linenos">713</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task returned </span><span class="si">{</span><span class="n">out</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_type_checker-714"><a href="#test_type_checker-714"><span class="linenos">714</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The task log is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tests the type checker</p>
</div>


                </section>
                <section id="test_task_checker">
                            <input id="test_task_checker-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_task_checker</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_task_checker-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_task_checker"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_task_checker-716"><a href="#test_task_checker-716"><span class="linenos">716</span></a><span class="k">def</span> <span class="nf">test_task_checker</span><span class="p">():</span>
</span><span id="test_task_checker-717"><a href="#test_task_checker-717"><span class="linenos">717</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Tests a task dependency and it&#39;s checker by making two simple tasks and executing them serially</span>
</span><span id="test_task_checker-718"><a href="#test_task_checker-718"><span class="linenos">718</span></a><span class="sd">    and printing diagnostic information.&quot;&quot;&quot;</span>
</span><span id="test_task_checker-719"><a href="#test_task_checker-719"><span class="linenos">719</span></a>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_task_checker-720"><a href="#test_task_checker-720"><span class="linenos">720</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
</span><span id="test_task_checker-721"><a href="#test_task_checker-721"><span class="linenos">721</span></a>    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
</span><span id="test_task_checker-722"><a href="#test_task_checker-722"><span class="linenos">722</span></a>        <span class="k">return</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span>
</span><span id="test_task_checker-723"><a href="#test_task_checker-723"><span class="linenos">723</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creating a new function task ...&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-724"><a href="#test_task_checker-724"><span class="linenos">724</span></a>    <span class="n">input_variable</span> <span class="o">=</span> <span class="mf">3.2</span>
</span><span id="test_task_checker-725"><a href="#test_task_checker-725"><span class="linenos">725</span></a>    <span class="n">new_task_1</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">f</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">input_variable</span><span class="p">])</span>
</span><span id="test_task_checker-726"><a href="#test_task_checker-726"><span class="linenos">726</span></a>    <span class="n">output_variable</span> <span class="o">=</span><span class="mi">0</span>
</span><span id="test_task_checker-727"><a href="#test_task_checker-727"><span class="linenos">727</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;New task directory is </span><span class="si">{</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task_1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-728"><a href="#test_task_checker-728"><span class="linenos">728</span></a>    <span class="n">dependency</span> <span class="o">=</span> <span class="n">TypeDependency</span><span class="p">(</span><span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;variables&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:</span><span class="n">input_variable</span><span class="p">},</span><span class="s2">&quot;types&quot;</span><span class="p">:{</span><span class="s2">&quot;x&quot;</span><span class="p">:(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)}})</span>
</span><span id="test_task_checker-729"><a href="#test_task_checker-729"><span class="linenos">729</span></a>    <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="test_task_checker-730"><a href="#test_task_checker-730"><span class="linenos">730</span></a>                            <span class="nb">input</span>  <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span><span class="n">new_task_1</span><span class="p">})</span>
</span><span id="test_task_checker-731"><a href="#test_task_checker-731"><span class="linenos">731</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">dependency</span><span class="p">)</span>
</span><span id="test_task_checker-732"><a href="#test_task_checker-732"><span class="linenos">732</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_task_checker-733"><a href="#test_task_checker-733"><span class="linenos">733</span></a>    <span class="n">new_task_1</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_task_checker-734"><a href="#test_task_checker-734"><span class="linenos">734</span></a>    <span class="n">new_task_2</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span><span class="o">=</span><span class="n">f2</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
</span><span id="test_task_checker-735"><a href="#test_task_checker-735"><span class="linenos">735</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="test_task_checker-736"><a href="#test_task_checker-736"><span class="linenos">736</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The 1st task returned </span><span class="si">{</span><span class="n">output_variable</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-737"><a href="#test_task_checker-737"><span class="linenos">737</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The  1st task log is </span><span class="si">{</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-738"><a href="#test_task_checker-738"><span class="linenos">738</span></a>    <span class="n">new_task_2</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_task_checker-739"><a href="#test_task_checker-739"><span class="linenos">739</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;the value of input is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">args</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-740"><a href="#test_task_checker-740"><span class="linenos">740</span></a>    <span class="n">out_2</span> <span class="o">=</span> <span class="n">new_task_2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_task_checker-741"><a href="#test_task_checker-741"><span class="linenos">741</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The 2nd task returned </span><span class="si">{</span><span class="n">out_2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-742"><a href="#test_task_checker-742"><span class="linenos">742</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The  2nd task log is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">log</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-743"><a href="#test_task_checker-743"><span class="linenos">743</span></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
</span><span id="test_task_checker-744"><a href="#test_task_checker-744"><span class="linenos">744</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The first task depth is </span><span class="si">{</span><span class="n">new_task_1</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_task_checker-745"><a href="#test_task_checker-745"><span class="linenos">745</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The second task depth is </span><span class="si">{</span><span class="n">new_task_2</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tests a task dependency and it's checker by making two simple tasks and executing them serially
and printing diagnostic information.</p>
</div>


                </section>
                <section id="test_chained_tasks">
                            <input id="test_chained_tasks-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_chained_tasks</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">n_tasks</span><span class="o">=</span><span class="mi">100</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_chained_tasks-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_chained_tasks"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_chained_tasks-747"><a href="#test_chained_tasks-747"><span class="linenos">747</span></a><span class="k">def</span> <span class="nf">test_chained_tasks</span><span class="p">(</span><span class="n">n_tasks</span> <span class="o">=</span> <span class="mi">100</span> <span class="p">):</span>
</span><span id="test_chained_tasks-748"><a href="#test_chained_tasks-748"><span class="linenos">748</span></a>    <span class="s2">&quot;Tests a series of tasks that depend on the previous one&quot;</span>
</span><span id="test_chained_tasks-749"><a href="#test_chained_tasks-749"><span class="linenos">749</span></a>    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="test_chained_tasks-750"><a href="#test_chained_tasks-750"><span class="linenos">750</span></a>    <span class="n">first_task</span> <span class="o">=</span><span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span><span class="n">x</span> <span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="test_chained_tasks-751"><a href="#test_chained_tasks-751"><span class="linenos">751</span></a>    <span class="n">old_task</span> <span class="o">=</span> <span class="n">first_task</span>
</span><span id="test_chained_tasks-752"><a href="#test_chained_tasks-752"><span class="linenos">752</span></a>    <span class="n">old_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_chained_tasks-753"><a href="#test_chained_tasks-753"><span class="linenos">753</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_tasks</span><span class="p">):</span>
</span><span id="test_chained_tasks-754"><a href="#test_chained_tasks-754"><span class="linenos">754</span></a>        <span class="c1"># create a task</span>
</span><span id="test_chained_tasks-755"><a href="#test_chained_tasks-755"><span class="linenos">755</span></a>        <span class="n">new_function</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">i</span>
</span><span id="test_chained_tasks-756"><a href="#test_chained_tasks-756"><span class="linenos">756</span></a>        <span class="n">new_task</span> <span class="o">=</span> <span class="n">FunctionTask</span><span class="p">(</span><span class="n">function</span> <span class="o">=</span> <span class="n">new_function</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="n">old_task</span><span class="o">.</span><span class="n">output</span><span class="p">])</span>
</span><span id="test_chained_tasks-757"><a href="#test_chained_tasks-757"><span class="linenos">757</span></a>        <span class="c1"># add  a dependency</span>
</span><span id="test_chained_tasks-758"><a href="#test_chained_tasks-758"><span class="linenos">758</span></a>        <span class="n">task_dependency</span> <span class="o">=</span> <span class="n">Dependency</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;task&#39;</span><span class="p">,</span> <span class="n">on_fail</span><span class="o">=</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">checker</span><span class="o">=</span><span class="s1">&#39;task_checker&#39;</span><span class="p">,</span>
</span><span id="test_chained_tasks-759"><a href="#test_chained_tasks-759"><span class="linenos">759</span></a>                                     <span class="nb">input</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;task&quot;</span><span class="p">:</span> <span class="n">old_task</span><span class="p">})</span>
</span><span id="test_chained_tasks-760"><a href="#test_chained_tasks-760"><span class="linenos">760</span></a>        <span class="n">new_task</span><span class="o">.</span><span class="n">add_dependency</span><span class="p">(</span><span class="n">task_dependency</span><span class="p">)</span>
</span><span id="test_chained_tasks-761"><a href="#test_chained_tasks-761"><span class="linenos">761</span></a>        <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_task</span><span class="p">)</span>
</span><span id="test_chained_tasks-762"><a href="#test_chained_tasks-762"><span class="linenos">762</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The new task depth is </span><span class="si">{</span><span class="n">new_task</span><span class="o">.</span><span class="n">depth</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_chained_tasks-763"><a href="#test_chained_tasks-763"><span class="linenos">763</span></a>        <span class="c1"># make the new_task the old_task</span>
</span><span id="test_chained_tasks-764"><a href="#test_chained_tasks-764"><span class="linenos">764</span></a>        <span class="n">old_task</span> <span class="o">=</span> <span class="n">new_task</span>
</span><span id="test_chained_tasks-765"><a href="#test_chained_tasks-765"><span class="linenos">765</span></a>        <span class="n">old_task</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_chained_tasks-766"><a href="#test_chained_tasks-766"><span class="linenos">766</span></a>
</span><span id="test_chained_tasks-767"><a href="#test_chained_tasks-767"><span class="linenos">767</span></a>    <span class="k">for</span> <span class="n">task_index</span><span class="p">,</span><span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
</span><span id="test_chained_tasks-768"><a href="#test_chained_tasks-768"><span class="linenos">768</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;*&quot;</span><span class="o">*</span><span class="mi">80</span><span class="p">)</span>
</span><span id="test_chained_tasks-769"><a href="#test_chained_tasks-769"><span class="linenos">769</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Checking Dependencies for task number </span><span class="si">{</span><span class="n">task_index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="test_chained_tasks-770"><a href="#test_chained_tasks-770"><span class="linenos">770</span></a>        <span class="n">task</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_chained_tasks-771"><a href="#test_chained_tasks-771"><span class="linenos">771</span></a>        <span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">log</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span id="test_chained_tasks-772"><a href="#test_chained_tasks-772"><span class="linenos">772</span></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Executing the function ...&quot;</span><span class="p">)</span>
</span><span id="test_chained_tasks-773"><a href="#test_chained_tasks-773"><span class="linenos">773</span></a>        <span class="c1">#task.execute()</span>
</span><span id="test_chained_tasks-774"><a href="#test_chained_tasks-774"><span class="linenos">774</span></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The function returns </span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">output</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Tests a series of tasks that depend on the previous one</p>
</div>


                </section>
                <section id="test_Task">
                            <input id="test_Task-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_Task</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_Task-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_Task"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_Task-777"><a href="#test_Task-777"><span class="linenos">777</span></a><span class="k">def</span> <span class="nf">test_Task</span><span class="p">():</span>
</span><span id="test_Task-778"><a href="#test_Task-778"><span class="linenos">778</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Creates a new task and prints the directory&quot;&quot;&quot;</span>
</span><span id="test_Task-779"><a href="#test_Task-779"><span class="linenos">779</span></a>    <span class="n">new_task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">()</span>
</span><span id="test_Task-780"><a href="#test_Task-780"><span class="linenos">780</span></a>    <span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">new_task</span><span class="p">))</span>
</span></pre></div>


            <div class="docstring"><p>Creates a new task and prints the directory</p>
</div>


                </section>
                <section id="test_ShellTask">
                            <input id="test_ShellTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_ShellTask</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">command</span><span class="o">=</span><span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_ShellTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_ShellTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_ShellTask-782"><a href="#test_ShellTask-782"><span class="linenos">782</span></a><span class="k">def</span> <span class="nf">test_ShellTask</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="s1">&#39;start &quot;&quot; cmd /c &quot;echo Hello world!&amp;echo(&amp;pause&quot;&#39;</span><span class="p">):</span>
</span><span id="test_ShellTask-783"><a href="#test_ShellTask-783"><span class="linenos">783</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Test&#39;s the ShellTask Class by passing it command and executing it &quot;&quot;&quot;</span>
</span><span id="test_ShellTask-784"><a href="#test_ShellTask-784"><span class="linenos">784</span></a>    <span class="n">st</span> <span class="o">=</span> <span class="n">ShellTask</span><span class="p">(</span><span class="n">command</span><span class="o">=</span><span class="n">command</span><span class="p">)</span>
</span><span id="test_ShellTask-785"><a href="#test_ShellTask-785"><span class="linenos">785</span></a>    <span class="n">st</span><span class="o">.</span><span class="n">check_dependencies</span><span class="p">()</span>
</span><span id="test_ShellTask-786"><a href="#test_ShellTask-786"><span class="linenos">786</span></a>    <span class="n">st</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
</span><span id="test_ShellTask-787"><a href="#test_ShellTask-787"><span class="linenos">787</span></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The ShellTask.completed is </span><span class="si">{</span><span class="n">st</span><span class="o">.</span><span class="n">completed</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Test's the ShellTask Class by passing it command and executing it</p>
</div>


                </section>
                <section id="test_schedule">
                            <input id="test_schedule-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">test_schedule</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

                <label class="view-source-button" for="test_schedule-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#test_schedule"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="test_schedule-789"><a href="#test_schedule-789"><span class="linenos">789</span></a><span class="k">def</span> <span class="nf">test_schedule</span><span class="p">():</span>
</span><span id="test_schedule-790"><a href="#test_schedule-790"><span class="linenos">790</span></a>    <span class="n">tasks</span> <span class="o">=</span><span class="p">[]</span>
</span><span id="test_schedule-791"><a href="#test_schedule-791"><span class="linenos">791</span></a>    <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">StartTask</span><span class="p">())</span>
</span><span id="test_schedule-792"><a href="#test_schedule-792"><span class="linenos">792</span></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
</span><span id="test_schedule-793"><a href="#test_schedule-793"><span class="linenos">793</span></a>        <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Task</span><span class="p">())</span>
</span><span id="test_schedule-794"><a href="#test_schedule-794"><span class="linenos">794</span></a>    <span class="n">tasks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">StopTask</span><span class="p">)</span>
</span><span id="test_schedule-795"><a href="#test_schedule-795"><span class="linenos">795</span></a>    <span class="n">schedule</span> <span class="o">=</span> <span class="p">[[],[],[]]</span>
</span><span id="test_schedule-796"><a href="#test_schedule-796"><span class="linenos">796</span></a>    <span class="k">for</span> <span class="n">task_index</span><span class="p">,</span><span class="n">task</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">tasks</span><span class="p">):</span>
</span><span id="test_schedule-797"><a href="#test_schedule-797"><span class="linenos">797</span></a>        <span class="k">if</span> <span class="n">task_index</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="test_schedule-798"><a href="#test_schedule-798"><span class="linenos">798</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tasks</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="test_schedule-799"><a href="#test_schedule-799"><span class="linenos">799</span></a>        <span class="k">elif</span> <span class="n">task_index</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">tasks</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
</span><span id="test_schedule-800"><a href="#test_schedule-800"><span class="linenos">800</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">tasks</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
</span><span id="test_schedule-801"><a href="#test_schedule-801"><span class="linenos">801</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="test_schedule-802"><a href="#test_schedule-802"><span class="linenos">802</span></a>            <span class="n">schedule</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>
</span><span id="test_schedule-803"><a href="#test_schedule-803"><span class="linenos">803</span></a>    <span class="k">for</span> <span class="n">slot</span> <span class="ow">in</span> <span class="n">schedule</span><span class="p">:</span>
</span><span id="test_schedule-804"><a href="#test_schedule-804"><span class="linenos">804</span></a>        <span class="k">while</span> <span class="n">slot</span><span class="p">:</span>
</span><span id="test_schedule-805"><a href="#test_schedule-805"><span class="linenos">805</span></a>            <span class="n">task_done</span> <span class="o">=</span> <span class="n">slot</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</span><span id="test_schedule-806"><a href="#test_schedule-806"><span class="linenos">806</span></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Task </span><span class="si">{</span><span class="n">task_done</span><span class="si">}</span><span class="s2"> was popped from slot&quot;</span><span class="p">)</span>
</span></pre></div>


    

                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>